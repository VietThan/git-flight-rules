# Flight rules cho Git

üåç
*[English](README.md) ‚àô [Espa√±ol](README_es.md)  ‚àô  [–†—É—Å—Å–∫–∏–π](README_ru.md) ‚àô [ÁÆÄ‰Ωì‰∏≠Êñá](README_zh-CN.md)‚àô [ÌïúÍµ≠Ïñ¥](README_kr.md)  ‚àô  [Ti·∫øng Vi·ªát](README_vi.md) ‚àô [Fran√ßais](README_fr.md) ‚àô [Êó•Êú¨Ë™û](README_ja.md)*

#### "flight rules" l√† g√¨?

L√† t√†i li·ªáu h∆∞·ªõng d·∫´n cho c√°c phi h√†nh gia v≈© tr·ª• (v√† t·∫°i ƒë√¢y, cho c√°c l·∫≠p tr√¨nh vi√™n s·ª≠ d·ª•ng Git) v·ªÅ nh·ªØng vi·ªác c·∫ßn l√†m khi c√≥ sai l·∫ßm x·∫£y ra.

>  *Flight Rules* l√† nh·ªØng ki·∫øn th·ª©c v·∫•t v·∫£ ki·∫øm ƒë∆∞·ª£c trong c√°c h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng ch·ªâ ra, t·ª´ng b∆∞·ªõc, ph·∫£i l√†m g√¨ n·∫øu X x·∫£y ra v√† t·∫°i sao. V·ªÅ c∆° b·∫£n, ch√∫ng l√† c√°c chu·∫©n quy tr√¨nh th·ª±c hi·ªán r·∫•t chi ti·∫øt cho t·ª´ng k·ªãch b·∫£n c·ª• th·ªÉ . [...]

> NASA qua th·ªùi gian ƒë√£ ghi l·∫°i nh·ªØng sai l·∫ßm, th·∫£m ho·∫° v√† gi·∫£i ph√°p c·ªßa ch√∫ng t√¥i k·ªÉ t·ª´ ƒë·∫ßu nh·ªØng nƒÉm 1960, khi c√°c ƒë·ªôi m·∫∑t ƒë·∫•t trong th·ªùi k·ª≥ ch∆∞∆°ng tr√¨nh Mercury b·∫Øt ƒë·∫ßu thu th·∫≠p "c√°c b√†i h·ªçc kinh nghi·ªám" th√†nh m·ªôt b·∫£n y·∫øu l∆∞·ª£c li·ªát k√™ h√†ng ngh√¨n t√¨nh hu·ªëng c√≥ v·∫•n ƒë·ªÅ, t·ª´ l·ªói ƒë·ªông c∆° ƒë·∫øn c√°c tay c·∫ßm b·ªã b·∫ª cong ƒë·∫øn tr·ª•c tr·∫∑c m√°y t√≠nh, v√† c√°c gi·∫£i ph√°p c·ªßa h·ªç.

&mdash; Chris Hadfield, *S·ªï Tay Phi H√†nh Gia*.

#### Quy chu·∫©n cho t√†i li·ªáu n√†y

ƒê·ªÉ  chuy·ªÅn t·∫£i r√µ r√†ng, t·∫•t c·∫£ c√°c v√≠ d·ª• trong t√†i li·ªáu n√†y s·ª≠ d·ª•ng bash prompt ƒë∆∞·ª£c tu·ª≥ ch·ªânh ƒë·ªÉ ch·ªâ ra nh√°nh hi·ªán t·∫°i v√† c√≥ hay kh√¥ng thay ƒë·ªïi trong v√πng chuy·ªÉn ti·∫øp (staged changes). Nh√°nh ƒë∆∞·ª£c ƒë·∫∑t trong d·∫•u ngo·∫∑c ƒë∆°n v√† m·ªôt k√Ω t·ª± `*` b√™n c·∫°nh t√™n nh√°nh cho bi·∫øt c√°c thay ƒë·ªïi trong v√πng chuy·ªÉn ti·∫øp.

T·∫•t c·∫£ c√°c l·ªánh (command) ph·∫£i thi h√†nh v·ªõi phi√™n b·∫£n l√¢u ƒë·ªùi nh·∫•t l√† git 2.13.0. Xem [git website](https://www.git-scm.com/) ƒë·ªÉ c·∫≠p nh·∫≠t phi√™n b·∫£n git tr√™n local c·ªßa b·∫°n.

[![Join the chat at https://gitter.im/k88hudson/git-flight-rules](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/k88hudson/git-flight-rules?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Danh m·ª•c n·ªôi dung**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

  - [Repositories](#repositories)
    - [T√¥i mu·ªën t·∫°o m·ªôt repository t·∫°i local](#t%C3%B4i-mu%E1%BB%91n-b%E1%BA%AFt-%C4%91%E1%BA%A7u-m%E1%BB%99t-repository-tr%C3%AAn-local)
    - [T√¥i mu·ªën clone m·ªôt remote repository](#t%C3%B4i-mu%E1%BB%91n-clone-m%E1%BB%99t-remote-repository)
  - [Ch·ªânh s·ª≠a Commit](#ch%E1%BB%89nh-s%E1%BB%ADa-commit)
    - [T√¥i v·ª´a commit c√°i g√¨?](#b%E1%BA%A1n-v%E1%BB%ABa-commit-%C4%91i%E1%BB%81u-g%C3%AC)
    - [T√¥i ƒë√£ vi·∫øt sai v√†i th·ª© trong message c·ªßa commit](#t%C3%B4i-%C4%91%C3%A3-vi%E1%BA%BFt-sai-v%C3%A0i-th%E1%BB%A9-trong-message-c%E1%BB%A7a-commit)
    - [T√¥i ƒë√£ commit v·ªõi t√™n v√† email c·∫•u h√¨nh sai](#t%C3%B4i-%C4%91%C3%A3-commit-v%E1%BB%9Bi-t%C3%AAn-v%C3%A0-email-c%E1%BA%A5u-h%C3%ACnh-sai)
    - [T√¥i mu·ªën xo√° m·ªôt file t·ª´ commit tr∆∞·ªõc](#t%C3%B4i-mu%E1%BB%91n-xo%C3%A1-m%E1%BB%99t-file-t%E1%BB%AB-commit-tr%C6%B0%E1%BB%9Bc)
    - [T√¥i mu·ªën xo√° ho·∫∑c lo·∫°i b·ªè commit cu·ªëi c√πng nh·∫•t c·ªßa t√¥i](#t%C3%B4i-mu%E1%BB%91n-xo%C3%A1-ho%E1%BA%B7c-lo%E1%BA%A1i-b%E1%BB%8F-commit-cu%E1%BB%91i-c%C3%B9ng-nh%E1%BA%A5t-c%E1%BB%A7a-t%C3%B4i)
    - [Xo√°/lo·∫°i b·ªè commit tu·ª≥ √Ω](#xo%C3%A1lo%E1%BA%A1i-b%E1%BB%8F-commit-tu%E1%BB%B3-%C3%BD)
    - [T√¥i ƒë√£ c·ªë g·∫Øng push commit ƒë√£ s·ª≠a ƒë·ªïi l√™n remote, nh∆∞ng t√¥i g·∫∑p m·ªôt th√¥ng b√°o l·ªói](#t%C3%B4i-%C4%91%C3%A3-c%E1%BB%91-g%E1%BA%AFng-push-commit-%C4%91%C3%A3-s%E1%BB%ADa-%C4%91%E1%BB%95i-l%C3%AAn-remote-nh%C6%B0ng-t%C3%B4i-g%E1%BA%B7p-m%E1%BB%99t-th%C3%B4ng-b%C3%A1o-l%E1%BB%97i)
    - [T√¥i ƒë√£ v√¥ t√¨nh th·ª±c hi·ªán hard reset v√† t√¥i mu·ªën c√°c thay ƒë·ªïi c·ªßa t√¥i tr·ªü l·∫°i tr∆∞·ªõc ƒë√≥.](#t%C3%B4i-%C4%91%C3%A3-v%C3%B4-t%C3%ACnh-th%E1%BB%B1c-hi%E1%BB%87n-hard-reset-v%C3%A0-t%C3%B4i-mu%E1%BB%91n-c%C3%A1c-thay-%C4%91%E1%BB%95i-c%E1%BB%A7a-t%C3%B4i-tr%E1%BB%9F-l%E1%BA%A1i-tr%C6%B0%E1%BB%9Bc-%C4%91%C3%B3)
    - [T√¥i v√¥ t√¨nh commit v√† ƒë·∫©y l√™n m·ªôt merge](#t%C3%B4i-v%C3%B4-t%C3%ACnh-commit-v%C3%A0-%C4%91%E1%BA%A9y-l%C3%AAn-m%E1%BB%99t-merge)
    - [T√¥i v√¥ t√¨nh commit v√† ƒë·∫©y c√°c file ch·ª©a c√°c d·ªØ li·ªáu nh·∫£y c·∫£m](#t%C3%B4i-v%C3%B4-t%C3%ACnh-commit-v%C3%A0-%C4%91%E1%BA%A9y-c%C3%A1c-file-ch%E1%BB%A9a-c%C3%A1c-d%E1%BB%AF-li%E1%BB%87u-nh%E1%BA%A3y-c%E1%BA%A3m)
  - [Staging](#staging)
    - [T√¥i c·∫ßn th√™m c√°c thay ƒë·ªïi ƒë√£ stage cho commit tr∆∞·ªõc ƒë√≥](#t%C3%B4i-c%E1%BA%A7n-th%C3%AAm-c%C3%A1c-thay-%C4%91%E1%BB%95i-%C4%91%C3%A3-stage-cho-commit-tr%C6%B0%E1%BB%9Bc-%C4%91%C3%B3)
    - [T√¥i mu·ªën stage m·ªôt ph·∫ßn c·ªßa m·ªôt file m·ªõi, nh∆∞ng kh√¥ng ph·∫£i to√†n b·ªô file](#t%C3%B4i-mu%E1%BB%91n-stage-m%E1%BB%99t-ph%E1%BA%A7n-c%E1%BB%A7a-m%E1%BB%99t-file-m%E1%BB%9Bi-nh%C6%B0ng-kh%C3%B4ng-ph%E1%BA%A3i-to%C3%A0n-b%E1%BB%99-file)
    - [T√¥i mu·ªën th√™m c√°c thay ƒë·ªïi trong m·ªôt file v√†o 2 commit kh√°c nhau](#t%C3%B4i-mu%E1%BB%91n-th%C3%AAm-c%C3%A1c-thay-%C4%91%E1%BB%95i-trong-m%E1%BB%99t-file-v%C3%A0o-2-commit-kh%C3%A1c-nhau)
    - [T√¥i mu·ªën stage c√°c ch·ªânh s·ª≠a ch∆∞a ƒë∆∞·ª£c stage v√† unstage c√°c ch·ªânh s·ª≠a ƒë√£ stage](#t%C3%B4i-mu%E1%BB%91n-stage-c%C3%A1c-ch%E1%BB%89nh-s%E1%BB%ADa-ch%C6%B0a-%C4%91%C6%B0%E1%BB%A3c-stage-v%C3%A0-unstage-c%C3%A1c-ch%E1%BB%89nh-s%E1%BB%ADa-%C4%91%C3%A3-stage)
  - [Unstaged Edits](#unstaged-edits)
    - [T√¥i mu·ªën di chuy·ªÉn c√°c ch·ªânh s·ª≠a ch∆∞a ƒë∆∞·ª£c staged ƒë·∫øn m·ªôt nh√°nh m·ªõi](#t%C3%B4i-mu%E1%BB%91n-di-chuy%E1%BB%83n-c%C3%A1c-ch%E1%BB%89nh-s%E1%BB%ADa-ch%C6%B0a-%C4%91%C6%B0%E1%BB%A3c-staged-%C4%91%E1%BA%BFn-m%E1%BB%99t-nh%C3%A1nh-m%E1%BB%9Bi)
    - [T√¥i mu·ªën di chuy·ªÉn c√°c ch·ªânh s·ª≠a ch∆∞a stage c·ªßa t√¥i ƒë·∫øn m·ªôt nh√°nh kh√°c ƒë√£ t·ªìn t·∫°i](#t%C3%B4i-mu%E1%BB%91n-di-chuy%E1%BB%83n-c%C3%A1c-ch%E1%BB%89nh-s%E1%BB%ADa-ch%C6%B0a-stage-c%E1%BB%A7a-t%C3%B4i-%C4%91%E1%BA%BFn-m%E1%BB%99t-nh%C3%A1nh-kh%C3%A1c-%C4%91%C3%A3-t%E1%BB%93n-t%E1%BA%A1i)
    - [T√¥i mu·ªën b·ªè c√°c thay ƒë√¥i ch∆∞a commit tr√™n local (ƒë√£ stage v√† ch∆∞a stage)](#t%C3%B4i-mu%E1%BB%91n-b%E1%BB%8F-c%C3%A1c-thay-%C4%91%C3%B4i-ch%C6%B0a-commit-tr%C3%AAn-local-%C4%91%C3%A3-stage-v%C3%A0-ch%C6%B0a-stage)
    - [T√¥i mu·ªën lo·∫°i b·ªè c√°c thay ƒë·ªïi ch∆∞a stage c·ª• th·ªÉ](#t%C3%B4i-mu%E1%BB%91n-lo%E1%BA%A1i-b%E1%BB%8F-c%C3%A1c-thay-%C4%91%E1%BB%95i-ch%C6%B0a-stage-c%E1%BB%A5-th%E1%BB%83)
    - [T√¥i mu·ªën lo·∫°i b·ªè c√°c file ch∆∞a stage c·ª• th·ªÉ](#t%C3%B4i-mu%E1%BB%91n-lo%E1%BA%A1i-b%E1%BB%8F-c%C3%A1c-file-ch%C6%B0a-stage-c%E1%BB%A5-th%E1%BB%83)
    - [T√¥i ch·ªâ lo·∫°i b·ªè c√°c thay ƒë·ªïi ch∆∞a stage tr√™n local](#t%C3%B4i-ch%E1%BB%89-lo%E1%BA%A1i-b%E1%BB%8F-c%C3%A1c-thay-%C4%91%E1%BB%95i-ch%C6%B0a-stage-tr%C3%AAn-local)
    - [T√¥i mu·ªën lo·∫°i b·ªè t·∫•t c·∫£ c√°c file ch∆∞a ƒë∆∞·ª£c theo d√µi (track)](#t%C3%B4i-mu%E1%BB%91n-lo%E1%BA%A1i-b%E1%BB%8F-t%E1%BA%A5t-c%E1%BA%A3-c%C3%A1c-file-ch%C6%B0a-%C4%91%C6%B0%E1%BB%A3c-theo-d%C3%B5i-track)
    - [T√¥i mu·ªën untage m·ªôt file c·ª• th·ªÉ ƒë√£ stage](#t%C3%B4i-mu%E1%BB%91n-untage-m%E1%BB%99t-file-c%E1%BB%A5-th%E1%BB%83-%C4%91%C3%A3-stage)
  - [Nh√°nh](#nh%C3%A1nh)
    - [T√¥i mu·ªën li·ªát k√™ t·∫•t c·∫£ c√°c nh√°nh](#t%C3%B4i-mu%E1%BB%91n-li%E1%BB%87t-k%C3%AA-t%E1%BA%A5t-c%E1%BA%A3-c%C3%A1c-nh%C3%A1nh)
    - [T·∫°o m·ªôt nh√°nh t·ª´ m·ªôt commit](#t%E1%BA%A1o-m%E1%BB%99t-nh%C3%A1nh-t%E1%BB%AB-m%E1%BB%99t-commit)
    - [T√¥i ƒë√£ pull t·ª´ / v√†o sai nh√°nh](#t%C3%B4i-%C4%91%C3%A3-pull-t%E1%BB%AB--v%C3%A0o-sai-nh%C3%A1nh)
    - [T√¥i mu·ªën lo·∫°i b·ªè c√°c commit tr√™n local ƒë·ªÉn nh√°nh c·ªßa t√¥i gi·ªëng nh∆∞ m·ªôt nh√°nh tr√™n server](#t%C3%B4i-mu%E1%BB%91n-lo%E1%BA%A1i-b%E1%BB%8F-c%C3%A1c-commit-tr%C3%AAn-local-%C4%91%E1%BB%83n-nh%C3%A1nh-c%E1%BB%A7a-t%C3%B4i-gi%E1%BB%91ng-nh%C6%B0-m%E1%BB%99t-nh%C3%A1nh-tr%C3%AAn-server)
    - [T√¥i ƒë√£ commit ƒë·∫øn main thay v√¨ m·ªôt nh√°nh m·ªõi](#t%C3%B4i-%C4%91%C3%A3-commit-%C4%91%E1%BA%BFn-main-thay-v%C3%AC-m%E1%BB%99t-nh%C3%A1nh-m%E1%BB%9Bi)
    - [T√¥i mu·ªën gi·ªØ to√†n b·ªô file t·ª´ m·ªôt ref-ish kh√°c](#t%C3%B4i-mu%E1%BB%91n-gi%E1%BB%AF-to%C3%A0n-b%E1%BB%99-file-t%E1%BB%AB-m%E1%BB%99t-ref-ish-kh%C3%A1c)
    - [T√¥i ƒë√£ th·ª±c hi·ªán m·ªôt s·ªë commit tr√™n m·ªôt nh√°nh duy nh·∫•t n√≥ n√™n ·ªü tr√™n c√°c nh√°nh kh√°c nhau](#t%C3%B4i-%C4%91%C3%A3-th%E1%BB%B1c-hi%E1%BB%87n-m%E1%BB%99t-s%E1%BB%91-commit-tr%C3%AAn-m%E1%BB%99t-nh%C3%A1nh-duy-nh%E1%BA%A5t-n%C3%B3-n%C3%AAn-%E1%BB%9F-tr%C3%AAn-c%C3%A1c-nh%C3%A1nh-kh%C3%A1c-nhau)
    - [T√¥i mu·ªën x√≥a c√°c nh√°nh local ƒë√£ b·ªã x√≥a lu·ªìng ph√≠a tr∆∞·ªõc](#t%C3%B4i-mu%E1%BB%91n-x%C3%B3a-c%C3%A1c-nh%C3%A1nh-local-%C4%91%C3%A3-b%E1%BB%8B-x%C3%B3a-lu%E1%BB%93ng-ph%C3%ADa-tr%C6%B0%E1%BB%9Bc)
    - [T√¥i v√¥ t√¨nh x√≥a nh√°nh c·ªßa t√¥i](#t%C3%B4i-v%C3%B4-t%C3%ACnh-x%C3%B3a-nh%C3%A1nh-c%E1%BB%A7a-t%C3%B4i)
    - [T√¥i mu·ªën xo√° m·ªôt nh√°nh](#t%C3%B4i-mu%E1%BB%91n-xo%C3%A1-m%E1%BB%99t-nh%C3%A1nh)
    - [T√¥i mu·ªën xo√° nhi·ªÅu nh√°nh](#t%C3%B4i-mu%E1%BB%91n-xo%C3%A1-nhi%E1%BB%81u-nh%C3%A1nh)
    - [T√¥i mu·ªën ƒë·ªïi t√™n m·ªôt nh√°nh](#t%C3%B4i-mu%E1%BB%91n-%C4%91%E1%BB%95i-t%C3%AAn-m%E1%BB%99t-nh%C3%A1nh)
    - [T√¥i mu·ªën checkout ƒë·∫øn m·ªôt nh√°nh remote m√† ng∆∞·ªùi kh√°c ƒëang l√†m vi·ªác tr√™n ƒë√≥](#t%C3%B4i-mu%E1%BB%91n-checkout-%C4%91%E1%BA%BFn-m%E1%BB%99t-nh%C3%A1nh-remote-m%C3%A0-ng%C6%B0%E1%BB%9Di-kh%C3%A1c-%C4%91ang-l%C3%A0m-vi%E1%BB%87c-tr%C3%AAn-%C4%91%C3%B3)
    - [T√¥i mu·ªën t·∫°o m·ªôt nh√°nh remote m·ªõi t·ª´ m·ªôt nh√°nh local hi·ªán t·∫°i](#t%C3%B4i-mu%E1%BB%91n-t%E1%BA%A1o-m%E1%BB%99t-nh%C3%A1nh-remote-m%E1%BB%9Bi-t%E1%BB%AB-m%E1%BB%99t-nh%C3%A1nh-local-hi%E1%BB%87n-t%E1%BA%A1i)
    - [T√¥i mu·ªën thi·∫øt l·∫≠p m·ªôt nh√°nh remote gi·ªëng nh∆∞ upstream cho m·ªôt nh√°nh local](#t%C3%B4i-mu%E1%BB%91n-thi%E1%BA%BFt-l%E1%BA%ADp-m%E1%BB%99t-nh%C3%A1nh-remote-gi%E1%BB%91ng-nh%C6%B0-upstream-cho-m%E1%BB%99t-nh%C3%A1nh-local)
    - [T√¥i mu·ªën thi·∫øt l·∫≠p HEAD c·ªßa t√¥i ƒë·ªÉ theo d√µi nh√°nh remote m·∫∑c ƒë·ªãnh](#t%C3%B4i-mu%E1%BB%91n-thi%E1%BA%BFt-l%E1%BA%ADp-head-c%E1%BB%A7a-t%C3%B4i-%C4%91%E1%BB%83-theo-d%C3%B5i-nh%C3%A1nh-remote-m%E1%BA%B7c-%C4%91%E1%BB%8Bnh)
    - [T√¥i ƒë√£ th·ª±c hi·ªán thay ƒë·ªïi tr√™n nh√°nh sai](#t%C3%B4i-%C4%91%C3%A3-th%E1%BB%B1c-hi%E1%BB%87n-thay-%C4%91%E1%BB%95i-tr%C3%AAn-nh%C3%A1nh-sai)
  - [Rebasing v√† Merging](#rebasing-v%C3%A0-merging)
    - [T√¥i mu·ªën hu·ª∑ b·ªè rebase/merge](#t%C3%B4i-mu%E1%BB%91n-hu%E1%BB%B7-b%E1%BB%8F-rebasemerge)
    - [T√¥i ƒë√£ rebase, nh∆∞ng t√¥i kh√¥ng mu·ªën force push](#t%C3%B4i-%C4%91%C3%A3-rebase-nh%C6%B0ng-t%C3%B4i-kh%C3%B4ng-mu%E1%BB%91n-force-push)
    - [T√¥i c·∫ßn k·∫øt h·ª£p c√°c commit](#t%C3%B4i-c%E1%BA%A7n-k%E1%BA%BFt-h%E1%BB%A3p-c%C3%A1c-commit)
      - [Chi·∫øn l∆∞·ª£c merge an to√†n](#chi%E1%BA%BFn-l%C6%B0%E1%BB%A3c-merge-an-to%C3%A0n)
      - [T√¥i c·∫ßn merge m·ªôt nh√°nh v√†o m·ªôt commit duy nh·∫•t](#t%C3%B4i-c%E1%BA%A7n-merge-m%E1%BB%99t-nh%C3%A1nh-v%C3%A0o-m%E1%BB%99t-commit-duy-nh%E1%BA%A5t)
      - [T√¥i ch·ªâ mu·ªën k·∫øt h·ª£p c√°c commit ch∆∞a push](#t%C3%B4i-ch%E1%BB%89-mu%E1%BB%91n-k%E1%BA%BFt-h%E1%BB%A3p-c%C3%A1c-commit-ch%C6%B0a-push)
      - [T√¥i c·∫ßn hu·ª∑ b·ªè merge](#t%C3%B4i-c%E1%BA%A7n-hu%E1%BB%B7-b%E1%BB%8F-merge)
    - [T√¥i c·∫ßn c·∫≠p nh·∫≠t commit cha c·ªßa nh√°nh c·ªßa t√¥i](#t%C3%B4i-c%E1%BA%A7n-c%E1%BA%ADp-nh%E1%BA%ADt-commit-cha-c%E1%BB%A7a-nh%C3%A1nh-c%E1%BB%A7a-t%C3%B4i)
    - [Ki·ªÉm tra xem t·∫•t c·∫£ commit tr√™n m·ªôt nh√°nh ƒë√£ ƒë∆∞·ª£c merge](#ki%E1%BB%83m-tra-xem-t%E1%BA%A5t-c%E1%BA%A3-commit-tr%C3%AAn-m%E1%BB%99t-nh%C3%A1nh-%C4%91%C3%A3-%C4%91%C6%B0%E1%BB%A3c-merge)
    - [C√°c v·∫•n ƒë·ªÅ c√≥ th·ªÉ x·∫£y ra v·ªõi interactive rebases](#c%C3%A1c-v%E1%BA%A5n-%C4%91%E1%BB%81-c%C3%B3-th%E1%BB%83-x%E1%BA%A3y-ra-v%E1%BB%9Bi-interactive-rebases)
      - [M√†n h√¨nh ch·ªânh s·ª≠a rebase cho bi·∫øt 'noop'](#m%C3%A0n-h%C3%ACnh-ch%E1%BB%89nh-s%E1%BB%ADa-rebase-cho-bi%E1%BA%BFt-noop)
      - [C√≥ m·ªôt v√†i xung ƒë·ªôt](#c%C3%B3-m%E1%BB%99t-v%C3%A0i-xung-%C4%91%E1%BB%99t)
  - [Stash](#stash)
    - [Stash t·∫•t c·∫£ ch·ªânh s·ª≠a](#stash-t%E1%BA%A5t-c%E1%BA%A3-ch%E1%BB%89nh-s%E1%BB%ADa)
    - [Stash c√°c file c·ª• th·ªÉ](#stash-c%C3%A1c-file-c%E1%BB%A5-th%E1%BB%83)
    - [Stash v·ªõi message](#stash-v%E1%BB%9Bi-message)
    - [Apply m·ªôt stash c·ª• th·ªÉ t·ª´ danh s√°ch](#apply-m%E1%BB%99t-stash-c%E1%BB%A5-th%E1%BB%83-t%E1%BB%AB-danh-s%C3%A1ch)
  - [Finding](#finding)
    - [T√¥i mu·ªën t√¨m m·ªôt chu·ªói trong b·∫•t k·ª≥ commit n√†o](#t%C3%B4i-mu%E1%BB%91n-t%C3%ACm-m%E1%BB%99t-chu%E1%BB%97i-trong-b%E1%BA%A5t-k%E1%BB%B3-commit-n%C3%A0o)
    - [T√¥i mu·ªën t√¨m t√°c gi√°c ho·∫∑c ng∆∞·ªùi commit](#t%C3%B4i-mu%E1%BB%91n-t%C3%ACm-t%C3%A1c-gi%C3%A1c-ho%E1%BA%B7c-ng%C6%B0%E1%BB%9Di-commit)
    - [T√¥i mu·ªën li·ªát k√™ c√°c commit ch·ª©a c√°c file c·ª• th·ªÉ](#t%C3%B4i-mu%E1%BB%91n-li%E1%BB%87t-k%C3%AA-c%C3%A1c-commit-ch%E1%BB%A9a-c%C3%A1c-file-c%E1%BB%A5-th%E1%BB%83)
    - [T√¨m m·ªôt tag n∆°i m·ªôt commit ƒë√£ tham chi·∫øu](#t%C3%ACm-m%E1%BB%99t-tag-n%C6%A1i-m%E1%BB%99t-commit-%C4%91%C3%A3-tham-chi%E1%BA%BFu)
  - [Submodules](#submodules)
    - [Clone t·∫•t c·∫£ submodules](#clone-t%E1%BA%A5t-c%E1%BA%A3-submodules)
    - [Xo√° m·ªôt submodule](#xo%C3%A1-m%E1%BB%99t-submodule)
  - [Miscellaneous Objects](#miscellaneous-objects)
    - [Kh√¥i ph·ª•c m·ªôt file ƒë√£ xo√°](#kh%C3%B4i-ph%E1%BB%A5c-m%E1%BB%99t-file-%C4%91%C3%A3-xo%C3%A1)
    - [Xo√° tag](#xo%C3%A1-tag)
    - [Kh√¥i ph·ª•c m·ªôt tag ƒë√£ xo√°](#kh%C3%B4i-ph%E1%BB%A5c-m%E1%BB%99t-tag-%C4%91%C3%A3-xo%C3%A1)
    - [Deleted Patch](#deleted-patch)
    - [Xu·∫•t m·ªôt repository ra m·ªôt file Zip](#xu%E1%BA%A5t-m%E1%BB%99t-repository-ra-m%E1%BB%99t-file-zip)
    - [Push m·ªôt nh√°nh v√† m·ªôt tag c√≥ t√™n gi·ªëng nhau](#push-m%E1%BB%99t-nh%C3%A1nh-v%C3%A0-m%E1%BB%99t-tag-c%C3%B3-t%C3%AAn-gi%E1%BB%91ng-nhau)
  - [Tracking c√°c file](#tracking-c%C3%A1c-file)
    - [T√¥i mu·ªën thay ƒë·ªïi c√°ch vi·∫øt hoa c·ªßa t√™n t·ªáp m√† kh√¥ng thay ƒë·ªïi n·ªôi dung c·ªßa t·ªáp](#t%C3%B4i-mu%E1%BB%91n-thay-%C4%91%E1%BB%95i-c%C3%A1ch-vi%E1%BA%BFt-hoa-c%E1%BB%A7a-t%C3%AAn-t%E1%BB%87p-m%C3%A0-kh%C3%B4ng-thay-%C4%91%E1%BB%95i-n%E1%BB%99i-dung-c%E1%BB%A7a-t%E1%BB%87p)
    - [T√¥i mu·ªën ghi ƒë√® l√™n c√°c t·ªáp local khi th·ª±c hi·ªán l·ªánh git pull](#t%C3%B4i-mu%E1%BB%91n-ghi-%C4%91%C3%A8-l%C3%AAn-c%C3%A1c-t%E1%BB%87p-local-khi-th%E1%BB%B1c-hi%E1%BB%87n-l%E1%BB%87nh-git-pull)
    - [T√¥i mu·ªën x√≥a m·ªôt t·ªáp kh·ªèi Git nh∆∞ng v·∫´n gi·ªØ t·ªáp](#t%C3%B4i-mu%E1%BB%91n-x%C3%B3a-m%E1%BB%99t-t%E1%BB%87p-kh%E1%BB%8Fi-git-nh%C6%B0ng-v%E1%BA%ABn-gi%E1%BB%AF-t%E1%BB%87p)
    - [T√¥i mu·ªën revert t·ªáp v·ªÅ b·∫£n s·ª≠a ƒë·ªïi c·ª• th·ªÉ](#t%C3%B4i-mu%E1%BB%91n-revert-t%E1%BB%87p-v%E1%BB%81-b%E1%BA%A3n-s%E1%BB%ADa-%C4%91%E1%BB%95i-c%E1%BB%A5-th%E1%BB%83)
    - [T√¥i mu·ªën li·ªát k√™ c√°c thay ƒë·ªïi c·ªßa m·ªôt t·ªáp c·ª• th·ªÉ gi·ªØa c√°c commit ho·∫∑c c√°c nh√°nh](#t%C3%B4i-mu%E1%BB%91n-li%E1%BB%87t-k%C3%AA-c%C3%A1c-thay-%C4%91%E1%BB%95i-c%E1%BB%A7a-m%E1%BB%99t-t%E1%BB%87p-c%E1%BB%A5-th%E1%BB%83-gi%E1%BB%AFa-c%C3%A1c-commit-ho%E1%BA%B7c-c%C3%A1c-nh%C3%A1nh)
    - [T√¥i mu·ªën Git b·ªè qua nh·ªØng thay ƒë·ªïi ƒë·ªëi v·ªõi m·ªôt t·ªáp c·ª• th·ªÉ](#t%C3%B4i-mu%E1%BB%91n-git-b%E1%BB%8F-qua-nh%E1%BB%AFng-thay-%C4%91%E1%BB%95i-%C4%91%E1%BB%91i-v%E1%BB%9Bi-m%E1%BB%99t-t%E1%BB%87p-c%E1%BB%A5-th%E1%BB%83)
  - [C·∫•u h√¨nh](#c%E1%BA%A5u-h%C3%ACnh)
    - [T√¥i mu·ªën th√™m b√≠ danh cho m·ªôt s·ªë l·ªánh Git](#t%C3%B4i-mu%E1%BB%91n-th%C3%AAm-b%C3%AD-danh-cho-m%E1%BB%99t-s%E1%BB%91-l%E1%BB%87nh-git)
    - [T√¥i mu·ªën th√™m m·ªôt th∆∞ m·ª•c tr·ªëng v√†o repository c·ªßa t√¥i](#t%C3%B4i-mu%E1%BB%91n-th%C3%AAm-m%E1%BB%99t-th%C6%B0-m%E1%BB%A5c-tr%E1%BB%91ng-v%C3%A0o-repository-c%E1%BB%A7a-t%C3%B4i)
    - [T√¥i mu·ªën cache m·ªôt username v√† password cho m·ªôt repository](#t%C3%B4i-mu%E1%BB%91n-cache-m%E1%BB%99t-username-v%C3%A0-password-cho-m%E1%BB%99t-repository)
    - [T√¥i mu·ªën l√†m cho Git b·ªè qua c√°c quy·ªÅn v√† thay ƒë·ªïi v·ªÅ filemode](#t%C3%B4i-mu%E1%BB%91n-l%C3%A0m-cho-git-b%E1%BB%8F-qua-c%C3%A1c-quy%E1%BB%81n-v%C3%A0-thay-%C4%91%E1%BB%95i-v%E1%BB%81-filemode)
    - [T√¥i mu·ªën ƒë·∫∑t user to√†n c·ª•c](#t%C3%B4i-mu%E1%BB%91n-%C4%91%E1%BA%B7t-user-to%C3%A0n-c%E1%BB%A5c)
  - [T√¥i kh√¥ng nghƒ© m√¨nh ƒë√£ l√†m g√¨ sai](#t%C3%B4i-kh%C3%B4ng-ngh%C4%A9-m%C3%ACnh-%C4%91%C3%A3-l%C3%A0m-g%C3%AC-sai)
- [T√†i nguy√™n kh√°c](#t%C3%A0i-nguy%C3%AAn-kh%C3%A1c)
  - [S√°ch](#s%C3%A1ch)
  - [H∆∞·ªõng d·∫´n](#h%C6%B0%E1%BB%9Bng-d%E1%BA%ABn)
  - [Scripts v√† c√°c c√¥ng c·ª•](#scripts-v%C3%A0-c%C3%A1c-c%C3%B4ng-c%E1%BB%A5)
  - [GUI Clients](#gui-clients)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## Repositories (Kho)

### T√¥i mu·ªën t·∫°o m·ªôt repository tr√™n local

ƒê·ªÉ t·∫°o m·ªôt Git repository t·∫°i th∆∞ m·ª•c ƒë√£ t·ªìn t·∫°i:

```sh
(th∆∞-m·ª•c-c·ªßa-t√¥i) $ git init
```

### T√¥i mu·ªën clone m·ªôt remote repository

ƒê·ªÉ clone (copy) m·ªôt remote repository, copy ƒë∆∞·ªùng d·∫´n url cho repository, v√† ch·∫°y :

```sh
$ git clone [url]
```

L·ªánh n√†y s·∫Ω t·∫£i xu·ªëng m·ªôt th∆∞ m·ª•c c√≥ t√™n gi·ªëng t√™n c·ªßa remote repository. H√£y ch·∫Øc ch·∫Øn r·∫±ng b·∫°n c√≥ k·∫øt n·ªëi ƒë·∫øn remote server khi b·∫°n ƒëang clone v·ªÅ (ph·∫ßn l·ªõn th·ªùi gian nghƒ©a l√† c·∫ßn ƒë·∫£m b·∫£o b·∫°n k·∫øt n·ªëi ƒë∆∞·ª£c v·ªõi internet).

ƒê·ªÉ clone v√†o m·ªôt th∆∞ m·ª•c v·ªõi t√™n kh√°c v·ªõi t√™n m·∫∑c ƒë·ªãnh c·ªßa repository:

```sh
$ git clone [url] name-of-new-folder
```

### T√¥i ƒë·ªÉ sai remote repository

C√≥ th·ªÉ c√≥ v√†i v·∫•n ƒë·ªÅ kh√°c nhau:

N·∫øu b·∫°n clone sai repository, ch·ªâ c·∫ßn x√≥a th∆∞ m·ª•c t·∫°o b·ªüi `git clone` v√† sau ƒë√≥ clone ƒë√∫ng remote repository.

N·∫øu b·∫°n ƒë·ªÉ nh·∫ßm repository l√† origin c·ªßa m·ªôt local repository hi·ªán t·∫°i, thay ƒë·ªïi URL c·ªßa origin v·ªõi l·ªánh:

```sh
$ git remote set-url origin [url c·ªßa repo ƒë√∫ng]
```

Xem th√™m t·∫°i [StackOverflow](https://stackoverflow.com/questions/2432764/how-to-change-the-uri-url-for-a-remote-git-repository#2432799).


### T√¥i mu·ªën th√™m s·ª≠a code cho repository c·ªßa ng∆∞·ªùi kh√°c

Git kh√¥ng cho b·∫°n th√™m s·ª≠a code v√†o repository c·ªßa ng∆∞·ªùi kh√°c n·∫øu kh√¥ng c√≥ quy·ªÅn truy c·∫≠p. GitHub c≈©ng th·∫ø, GitHub kh√°c v·ªõi Git v√¨ l√† d·ªãch v·ª• hosting cho c√°c Git repository. Nh∆∞ng b·∫°n c√≥ th·ªÉ  th√™m s·ª≠a code v·ªõi c√°c patch v√° l·ªói, ho·∫∑c, n·∫øu tr√™n GitHub, v·ªõi forks v√† pull requests.

Tr∆∞·ªõc h√™t, m·ªôt v√†i ƒëi·ªÅu v·ªÅ fork. M·ªôt fork l√† m·ªôt copy c·ªßa m·ªôt repository. ƒê√¢y kh√¥ng ph·∫£i l√† m·ªôt l·ªánh git, m√† l√† m·ªôt h√†nh ƒë·ªông th∆∞·ªùng th·∫•y tr√™n GitHub, Bitbucket, GitLab ‚Äî ho·∫∑c b·∫Øt c·ª© ƒë√¢u host c√°c Git repository. B·∫°n c√≥ th·ªÉ fork m·ªôt repository qua UI c·ªßa d·ªãch v·ª• host.

#### Th√™m s·ª≠a code v·ªõi pull requests

Sau khi ƒë√£ fork m·ªôt repository, b·∫°n th∆∞·ªùng ph·∫£i clone repository v·ªÅ m√°y c·ªßa b·∫°n. T·∫•t nhi√™n b·∫°n c√≥ th·ªÉ t·∫°o v√†i ch·ªânh s·ª≠a nh·ªè tr√™n GitHub n·∫øu kh√¥ng clone v·ªÅ m√°y, nh∆∞ng vƒÉn b·∫£n n√†y kh√¥ng ph·∫£i l√† github-flight-rules, th·∫ø n√™n h√£y xem c√°ch tr√™n m√°y local.

```sh
# n·∫øu b·∫°n d√πng ssh
$ git clone git@github.com:k88hudson/git-flight-rules.git

# n·∫øu b·∫°n d√πng https
$ git clone https://github.com/k88hudson/git-flight-rules.git
```

N·∫øu b·∫°n `cd` v√†o th∆∞ m·ª•c ƒë∆∞·ª£c t·∫°o, v√† ch·∫°y l·ªánh `git remote`, b·∫°n s·∫Ω th·∫•y danh s√°ch c√°c remote. Th∆∞·ªùng s·∫Ω c√≥ m·ªôt remote - `origin` - tr·ªè ƒë·∫øn `k88hudson/git-flight-rules`. Trong tr∆∞·ªùng h·ª£p n√†y, b·∫°n c≈©ng mu·ªën m·ªôt remote tr·ªè ƒë·∫øn fork c·ªßa b·∫°n.

ƒê·∫ßu ti√™n, ƒë·ªÉ theo quy chu·∫©n d√πng Git, ch√∫ng ta s·∫Ω d√πng remote t√™n `origin` cho repository c·ªßa b·∫°n v√† t√™n `upstream` cho repository m√† b·∫°n fork. ƒê·ªÉ ƒë·ªïi t√™n cho remote `origin` sang t√™n `upstream` ch·∫°y l·ªánh:

```sh
$ git remote rename origin upstream
```

B·∫°n c≈©ng c√≥ th·ªÉ ƒë·ªïi t√™n v·ªõi l·ªánh `git remote set-url`, nh∆∞ng s·∫Ω m·∫•t th√™m th·ªùi gian v√† nhi·ªÅu b∆∞·ªõc h∆°n.

Sau ƒë√≥, t·∫°o remote m·ªõi ƒë·ªÉ tr·ªè v·ªÅ repository c·ªßa b·∫°n.

```sh
$ git remote add origin git@github.com:YourtGitHubUsername/git-flight-rules.git
```

L∆∞u √Ω l√† b√¢y gi·ªù b·∫°n c√≥ hai remote.

- `origin` tr·ªè ƒë·∫øn repository c·ªßa b·∫°n.
- `upstream` tr·ªè ƒë·∫øn repository nguy√™n b·∫£n  .

V·ªõi `origin`, b·∫°n c√≥ th·ªÉ ƒë·ªçc v√† vi·∫øt. V·ªõi `upstream`, b·∫°n ch·ªâ c√≥ th·ªÉ ƒë·ªçc.

Sau khi ƒë√£ ch·ªânh s·ª≠a theo mong mu·ªën, push (ƒë·∫©y) c√°c thay ƒë·ªïi (th∆∞·ªùng l√† ·ªü trong branch) t·ªõi remote t√™n `origin`. N·∫øu b·∫°n ·ªü tr√™n nh√°nh, b·∫°n c√≥ th·ªÉ d√πng `--set-upstream` ƒë·ªÉ tr√°nh c·∫ßn ph·∫£i ghi r√µ d√πng brach n√†o c·ªßa remote m·ªói l·∫ßn push trong t∆∞∆°ng lai khi d√πng nh√°nh ƒë·∫•y. V√≠ d·ª•:

```sh
$ (feature/my-feature) git push --set-upstream origin feature/my-feature
```

Kh√¥ng c√≥ c√°ch n√†o ƒë·ªÉ t·∫°o pull request tr√™n giao di·ªán l·ªánh (CLI) v·ªõi Git (m·∫∑c d√π c√≥ v√†i c√¥ng c·ª•, nh∆∞ [hub](http://github.com/github/hub), c√≥ cho b·∫°n l·ª±a ch·ªçn n√†y). N·∫øu b·∫°n s√£n s√†ng t·∫°o Pull Request, tr·ªü l·∫°i GitHub (ho·∫∑c d·ªãch v·ª• host Git) v√† t·∫°o pull request m·ªõi. Nh·ªõ l√† d·ªãch v·ª• host s·∫Ω t·ª± ƒë·ªông link repository nguy√™n b·∫£n v√† repository do fork.

Sau c√πng, nh·ªõ ƒë√πng qu√™n tr·∫£ l·ªùi nh·ªØng comment ph√™ duy·ªát code.

#### Th√™m s·ª≠a code v·ªõi c√°c patch (v√°)

M·ªôt c√°ch kh√°c ƒë·ªÉ th√™m s·ª≠a code m√† kh√¥ng c·∫ßn s·ª≠ d·ª•ng d·ªãch v·ª• b√™n th·ª© ba nh∆∞ GitHub l√† d√πng `git format-patch`.


`format-patch` t·∫°o file (t·ªáp) d·∫°ng .patch  cho m·ªôt ho·∫∑c nhi·ªÅu commit. File n√†y l√† c∆° b·∫£n l√† danh s√°ch nh∆∞ng thay ƒë·ªïi, gi·ªëng nh∆∞ nh·ªØng commit diffs b·∫°n xem ƒë∆∞·ª£c tr√™n Github.

C√°c patch c√≥ th·ªÉ ƒë∆∞·ª£c xem ho·∫∑c th·∫≠m ch√≠ th√™m s·ª≠a b·ªüi ng∆∞·ªùi nh·∫≠n v√† √°p g·∫Øn v·ªõi l·ªánh `git am`.

V√≠ d·ª•, ƒë·ªÉ t·∫°o patch d·ª±a v√†o commit m·ªõi nh√¢t, b·∫°n ch·∫°y l·ªánh `git format-patch HEAD^`, l·ªánh s·∫Ω t·∫°o m·ªôt t·ªáp .patch v·ªõi t√™n nh∆∞: `0001-My-Commit-Message.patch`.

ƒê·ªÉ √°p g·∫Øn t·ªáp patch cho repository, b·∫°n s·∫Ω d√πng l·ªánh `gim am ./0001-My-Commit-Message.patch`.

C√°c patch c√≤n c√≥ th·ªÉ g·ª≠i qua email v·ªõi l·ªánh `git send-email`. ƒê·ªÉ xem th√™m th√¥ng tin v·ªÅ c√°ch d√πng ho·∫∑c c·∫•u h√¨nh, xem: https://git-send-email.io

#### T√¥i c·∫ßn update fork c·ªßa t√¥i v·ªõi nh·ªØng thay ƒë·ªïi m·ªõi nh·∫•t t·ª´ repository nguy√™n b·∫£n

Sau m·ªôt qu√£ng th·ªùi gian, kho `upstream` c√≥ th·ªÉ c√≥ th√™m thay ƒë·ªïi, v√† nh·ªØng thay ƒë·ªïi n√†y c·∫ßn ph·∫£i ƒë∆∞·ª£c t·∫£i v·ªÅ  kho `origin`. Nh·ªõ l√† gi·ªëng b·∫°n, nh·ªØng ng∆∞·ªùi kh√°c c≈©ng ƒëang g√≥p s·ª©c c·ªßa h·ªç. Gi·∫£ d·ª• b·∫°n ƒëang ·ªü nh√°nh cho t√≠nh nƒÉng m·ªõi b·∫°n ƒëang thi·∫øt k·∫ø, v√† b·∫°n c·∫ßn update nh√°nh v·ªõi nh·ªØng thay ƒë·ªïi tr√™n repository nguy√™n b·∫£n.

C√≥ khi b·∫°n ƒë√£ c√≥ remote tr·ªè ƒë·∫øn project nguy√™n b·∫£n. N·∫øu kh√¥ng, h√£y t·∫°o n√≥. Th∆∞·ªùng ch√∫ng ta d√πng t√™n `upstream` cho remote n√†y:

```sh
$ (main) git remote add upstream <link-t·ªõi-repository-nguy√™n-b·∫£n>
# $ (main) git remote add upstream git@github.com:k88hudson/git-flight-rules.git
```

B√¢y gi·ªù b·∫°n fetch (l·∫•y) t·ª´ `upstream` v√† nh·∫≠n nh·ªØng update m·ªõi nh·∫•t.

```sh
$ (main) git fetch upstream
$ (main) git merge upstream/main

# ho·∫∑c v·ªõi m·ªôt l·ªánh duy nh·∫•t
$ (main) git pull upstream main
```


## Ch·ªânh s·ª≠a Commit

<a name="diff-last"></a>
### T√¥i v·ª´a commit c√°i g√¨?

Gi·∫£ s·ª≠ b·∫°n v·ª´a commit nh·ªØng thay ƒë·ªïi m·ªôt c√°ch m√π qu√°ng v·ªõi l·ªánh `git commit -a` v√† b·∫°n kh√¥ng ch·∫Øc ch·∫Øn n·ªôi dung th·ª±c s·ª± c·ªßa commit v·ª´a th·ª±c hi·ªán l√† g√¨. B·∫°n c√≥ th·ªÉ hi·ªÉn th·ªã ra commit g·∫ßn nh·∫•t tr√™n tr·ªè HEAD hi·ªán t·∫°i c·ªßa b·∫°n v·ªõi l·ªánh:

```sh
(main)$ git show
```

Ho·∫∑c

```sh
$ git log -n1 -p
```

N·∫øu b·∫°n mu·ªën xem m·ªôt file t·∫°i m·ªôt commit c·ª• th·ªÉ, b·∫°n c≈©ng c√≥ th·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu n√†y (khi `<commitid>`  l√† commit m√† b·∫°n mu·ªën bi·∫øt) v·ªõi l·ªánh:

```sh
$ git show <commitid>:filename
```

### T√¥i ƒë√£ vi·∫øt sai v√†i th·ª© trong message (th√¥ng ƒëi·ªáp) c·ªßa commit

N·∫øu b·∫°n ƒë√£ vi·∫øt sai th·ª© g√¨ ƒë√≥ v√† commit ch∆∞a ƒë∆∞·ª£c push l√™n, b·∫°n c√≥ th·ªÉ l√†m theo c√°ch sau ƒë·ªÉ thay ƒë·ªïi message c·ªßa commit m√† kh√¥ng l√†m thay ƒë·ªïi commit:

```sh
$ git commit --amend --only
```
C√¢u l·ªánh ƒë√≥ s·∫Ω m·ªü tr√¨nh so·∫°n th·∫£o (text editor) m·∫∑c ƒë·ªãnh c·ªßa b·∫°n, n∆°i b·∫°n c√≥ th·ªÉ ch·ªânh s·ª≠a message. Ngo√†i ra, b·∫°n c√≥ th·ªÉ l√†m t·∫•t c·∫£ ƒëi·ªÅu n√†y v·ªõi l·ªánh sau:

```sh
$ git commit --amend --only -m 'xxxxxxx'
```

N·∫øu b·∫°n ƒë√£ ƒë·∫©y message l√™n, b·∫°n c√≥ th·ªÉ ch·ªânh s·ª≠a commit v√† force push (ƒë·∫©y √©p), nh∆∞ng c√°ch n√†y kh√¥ng ƒë∆∞·ª£c khuy·∫øn kh√≠ch.

<a name="commit-wrong-author"></a>
### T√¥i ƒë√£ commit v·ªõi c·∫•u h√¨nh t√™n v√† email sai

N·∫øu ƒë√≥ l√† m·ªôt commit ƒë·ªôc l·∫≠p, ch·ªânh s·ª≠a n√≥:

```sh
$ git commit --amend --no-edit --author "T√™nT√°cGi·∫£M·ªõi <authoremail@mydomain.com>"
```

M·ªôt c√°ch kh√°c ƒë·ªÉ c·∫•u h√¨nh ƒë√∫ng t√°c gi·∫£ l√† c√†i ƒë·∫∑t l·∫°i v·ªõi l·ªánh `git config --global author.(name|email)` v√† sau ƒë√≥ ch·∫°y l·ªánh

```sh
$ git commit --amend --reset-author --no-edit
```

N·∫øu b·∫°n c·∫ßn thay ƒë·ªïi t·∫•t c·∫£ l·ªãch s·ª≠, h√£y xem trang `man` c·ªßa `git filter-branch`.

### T√¥i mu·ªën xo√° m·ªôt file t·ª´ commit tr∆∞·ªõc

ƒê·ªÉ xo√° c√°c thay ƒë·ªïi ƒë·ªëi v·ªõi m·ªôt file kh·ªèi commit tr∆∞·ªõc, h√£y l√†m nh∆∞ sau:

```sh
$ git checkout HEAD^ myfile
$ git add myfile
$ git commit --amend --no-edit
```

Trong tr∆∞·ªùng h·ª£p file m·ªõi ƒë∆∞·ª£c th√™m v√†o commit v√† b·∫°n mu·ªën xo√° n√≥ (ri√™ng tr√™n Git), h√£y th·ª±c hi·ªán:

```sh
$ git rm --cached myfile
$ git commit --amend --no-edit
```

C√°ch n√†y ƒëƒÉc bi·ªát h·ªØu √≠ch khi b·∫°n ƒëang m·ªü m·ªôt b·∫£n patch v√† b·∫°n ƒë√£ commit m·ªôt file kh√¥ng c·∫ßn thi·∫øt v√† c·∫ßn force push ƒë·ªÉ c·∫≠p nh·∫≠t b·∫£n patch tr√™n remote. D√≤ng `--no-edit` ƒë∆∞·ª£c d√πng ƒë·ªÉ gi·ªØ kh√¥ng thay ƒë·ªïi message cho commit hi·ªán t·∫°i.

<a name="delete-pushed-commit"></a>
### T√¥i mu·ªën xo√° ho·∫∑c lo·∫°i b·ªè commit m·ªõi nh·∫•t

N·∫øu b·∫°n mu·ªën xo√° c√°c commit ƒë√£ push, b·∫°n c√≥ th·ªÉ l√†m nh∆∞ sau. Tuy nhi√™n, c√°ch n√†y s·∫Ω thay ƒë·ªïi l·ªãch s·ª≠  commit kh√¥ng thay ƒë·ªïi ƒë∆∞·ª£c v√† l√†m h·ªèng l·ªãch s·ª≠ c·ªßa b·∫•t k·ª≥ ai kh√°c ƒë√£ pull t·ª´ repository. T√≥m l·∫°i, n·∫øu b·∫°n kh√¥ng ch·∫Øc ch·∫Øn, b·∫°n kh√¥ng bao gi·ªù n√™n l√†m c√°ch n√†y.

```sh
$ git reset HEAD^ --hard
$ git push --force-with-lease [remote] [branch]
```

N·∫øu b·∫°n ch∆∞a push, ƒë·ªÉ  ƒë·∫£o ng∆∞·ª£c Git v·ªÅ tr·∫°ng th√°i tr∆∞·ªõc khi b·∫°n th·ª±c hi·ªán commit m·ªõi nh·∫•t (trong khi v√£n gi·ªØ c√°c thay ƒë·ªïi trong stage) h√£y ch·∫°y l·ªánh:

```
(my-branch*)$ git reset --soft HEAD@{1}

```

C√°ch n√†y ch·ªâ ph√π h·ª£p n·∫øu b·∫°n ch∆∞a push. N·∫øu b·∫°n ƒë√£ push, ƒëi·ªÅu th·ª±c s·ª± an to√†n nh·∫•t c·∫ßn l√†m l√† `git revert SHAc·ªßaCommitSai`. L·ªánh n√†y s·∫Ω t·∫°o m·ªôt commit m·ªõi ƒë·ªÉ quay tr·ªü l·∫°i thay ƒë·ªïi c·ªßa commit tr∆∞·ªõc ƒë√≥. Ho·∫∑c n·∫øu nh√°nh b·∫°n ƒë√£ push l√† rebase-safe (kh√¥ng c√≥ k·ª≥ v·ªçng c√°c dev kh√°c s·∫Ω pull t·ª´ n√≥), b·∫°n ch·ªâ c√≥ th·ªÉ s·ª≠ d·ª•ng `git push --force-with-lease`. ƒê·ªÉ bi·∫øt th√™m, h√£y xem [ph·∫ßn tr√™n](#delete-pushed-commit).

<a name="delete-any-commit"></a>
### Xo√°/lo·∫°i b·ªè b·∫•t k·ª≥ commit n√†o

L∆∞u √Ω nh∆∞ tr√™n. Kh√¥ng bao gi·ªù l√†m ƒëi·ªÅu n√†y n·∫øu c√≥ th·ªÉ tr√°nh ƒë∆∞·ª£c.

```sh
$ git rebase --onto SHA1_OF_BAD_COMMIT^ SHA1_OF_BAD_COMMIT
$ git push --force-with-lease [remote] [branch]
```

Ho·∫∑c th·ª±c hi·ªán m·ªôt [interactive rebase](#interactive-rebase) v√† lo·∫°i b·ªè c√°c d√≤ng t∆∞∆°ng ·ª©ng v·ªõi c√°c commit b·∫°n mu·ªën lo·∫°i b·ªè.

<a name="#force-push"></a>
### T√¥i ƒë√£ c·ªë g·∫Øng push commit ƒë√£ s·ª≠a ƒë·ªïi l√™n remote, nh∆∞ng t√¥i g·∫∑p th√¥ng b√°o l·ªói

```sh
To https://github.com/yourusername/repo.git
! [rejected]        mybranch -> mybranch (non-fast-forward)
error: failed to push some refs to 'https://github.com/tanay1337/webmaker.org.git'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Integrate the remote changes (e.g.
hint: 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
```

L∆∞u √Ω r·∫±ng, nh∆∞ v·ªõi rebase (xem b√™n d∆∞·ªõi), amend **thay th·∫ø commit c≈© v·ªõi m·ªôt commit m·ªõi**, n√™n b·∫°n ph·∫£i force push (`--force-with-lease`) c√°c thay ƒë·ªïi c·ªßa b·∫°n n·∫øu b·∫°n ƒë√£ push commit tr∆∞·ªõc amend l√™n remote c·ªßa b·∫°n. H√£y c·∫©n th·∫≠n khi b·∫°n c√°ch n√†y &ndash; *lu√¥n lu√¥n* ƒë·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ ch·ªâ ƒë·ªãnh m·ªôt nh√°nh!

```sh
(my-branch)$ git push origin mybranch --force-with-lease
```

N√≥i chung, **tr√°nh force push**. T·ªët nh·∫•t l√† t·∫°o v√† push m·ªôt commit m·ªõi thay v√¨ force-push commit ƒë√£ s·ª≠a ƒë·ªïi v√¨ n√≥ s·∫Ω g√¢y xung ƒë·ªôt trong l·ªãch s·ª≠ commit cho b·∫•t k·ª≥ developer n√†o ƒë√£ t∆∞∆°ng t√°c v·ªõi nh√°nh ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p ho·∫∑c b·∫•t k·ª≥ nh√°nh con n√†o. `--force-with-lease` s·∫Ω v·∫´n fail, n·∫øu ai kh√°c c≈©ng ƒëang l√†m vi·ªác tr√™n c√πng m·ªôt nh√°nh v·ªõi b·∫°n v√† vi·ªác push l√™n s·∫Ω √©p tr√™n nh·ªØng thay ƒë·ªïi ƒë√≥.

N·∫øu b·∫°n *ho√†n to√†n ch·∫Øc ch·∫Øn* r·∫±ng kh√¥ng ai ƒëang l√†m vi·ªác tr√™n c√πng m·ªôt nh√°nh ho·∫∑c b·∫°n mu·ªën c·∫≠p nh·∫≠t ƒë·ªânh nh√°nh (tip of branch) *v√¥ ƒëi·ªÅu ki·ªán*, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng `--force` (`-f`), nh∆∞ng c√°ch n√†y n√≥i chung n√™n tr√°nh.

<a href="undo-git-reset-hard"></a>
### T√¥i ƒë√£ v√¥ t√¨nh th·ª±c hi·ªán hard reset v√† t√¥i mu·ªën c√°c thay ƒë·ªïi c·ªßa t√¥i.

N·∫øu v√¥ t√¨nh b·∫°n th·ª±c hi·ªán `git reset --hard`, b·∫°n c√≥ th·ªÉ v·∫´n ph·ª•c h·ªìi l·∫°i ƒë∆∞·ª£c commit c·ªßa b·∫°n, v√¨ git gi·ªØ m·ªôt b·∫£n log cho t·∫•t c·∫£ m·ªçi th·ª© trong v√†i ng√†y.

Ch√∫ √Ω: ƒêi·ªÅu n√†y ch·ªâ h·ª£p l·ªá n·∫øu ƒë√£ c√≥ sao l∆∞u, t·ª©c l√† ƒë√£ c√≥ commit ho·∫∑c ƒë∆∞·ª£c `stash`. L·ªánh `git reset --hard` *s·∫Ω lo·∫°i b·ªè* c√°c thay ƒë·ªïi ch∆∞a ƒë∆∞·ª£c commit, v√¨ v·∫≠y h√£y s·ª≠ d·ª•ng n√≥ m·ªôt c√°ch th·∫≠n tr·ªçng. (M·ªôt l·ª±a ch·ªçn an to√†n l√† `git reset --keep`.)

```sh
(main)$ git reflog
```

B·∫°n s·∫Ω th·∫•y danh s√°ch c√°c commit g·∫ßn ƒë√¢y v√† m·ªôt commit ƒë·ªÉ reset. Ch·ªçn SHA c·ªßa commit b·∫°n mu·ªën tr·ªü l·∫°i t·ªõi v√† reset l·∫°i:

```sh
(main)$ git reset --hard SHA1234
```

Th·∫ø n√†y l√† xong.

<a href="undo-a-commit-merge"></a>
### T√¥i v√¥ t√¨nh commit v√† ƒë·∫©y l√™n m·ªôt merge

N·∫øu b·∫°n v√¥ t√¨nh merge m·ªôt nh√°nh t√≠nh nƒÉng m·ªõi v√†o nh√°nh ph√°t tri·ªÉn ch√≠nh tr∆∞·ªõc khi s·∫µn s√†ng ƒë·ªÉ merge, b·∫°n v·∫´n c√≥ th·ªÉ ƒë·∫£o ng∆∞·ª£c merge. Nh∆∞ng c√≥ m·ªôt ƒëi·ªÉm ph·∫£i n·∫Øm ƒë∆∞·ª£c: M·ªôt commit merge c√≥ m·ªôt ho·∫∑c nhi·ªÅu h∆°n m·ªôt parent (g·ªëc) (th∆∞·ªùng l√† 2).

L·ªánh ƒë·ªÉ ch·∫°y:
```sh
(feature-branch)$ git revert -m 1 <commit>
```
D√≤ng `-m 1` l√† ƒë·ªÉ cho bi·∫øt c·∫ßn ch·ªçn parent th·ª© nh·∫•t` (nh√°nh m√† merge ƒë∆∞·ª£c th·ª±c hi·ªán) l√†m parent ƒë·ªÉ ƒë·∫£o ng∆∞·ª£c l·∫°i.

Ch√∫ √Ω: S·ªë parent kh√¥ng ph·∫£i l√† s·ªë commit. Thay v√†o ƒë√≥, m·ªôt commit merge s·∫Ω c√≥ m·ªôt d√≤ng nh∆∞ `Merge: 8e2ce2d 86ac2e7`. S·ªë parent l√† s·ªë s·ªë nh·∫≠n d·∫°ng ƒë·∫ßu-1 (1-based index) c·ªßa d√≤ng nay, s·ªë nh·∫≠n d·∫°ng ƒë·∫ßu ti√™n l√† 1 cho parent th·ª© nh·∫•t, th·ª© 2 l√† cho parent 2, v√† ti·∫øp t·ª•c nh∆∞ th·∫ø.

<a href="undo-sensitive-commit-push"></a>
### T√¥i v√¥ t√¨nh commit v√† ƒë·∫©y c√°c file ch·ª©a d·ªØ li·ªáu nh·∫£y c·∫£m

N·∫øu b·∫°n v√¥ t√¨nh push l√™n c√°c file ch·ª©a d·ªØ li·ªáu nh·∫°y c·∫£m (m·∫≠t kh·∫©u, keys, etc.), b·∫°n c√≥ th·ªÉ amend commit tr∆∞·ªõc. L∆∞u √Ω r·∫±ng khi b·∫°n ƒë√£ ƒë·∫©y m·ªôt commit, b·∫°n n√™n coi b·∫•t k·ª≥ d·ªØ li·ªáu n√†o ƒë√£ b·ªã ƒë·∫©y nh∆∞ ƒë√£ b·ªã l·ªô. C√°c b∆∞·ªõc n√†y c√≥ th·ªÉ xo√° d·ªØ li·ªáu nh·∫°y c·∫£m t·ª´ repo c√¥ng khai (public repo) ho·∫∑c b·∫£n sao n·ªôi b·ªô, nh∆∞ng b·∫°n *kh√¥ng th·ªÉ* x√≥a d·ªØ li·ªáu nh·∫°y c·∫£m kh·ªèi c√°c b·∫£n sao ƒë√£ ƒë∆∞·ª£c t·∫£i v·ªÅ b·ªüi ng∆∞·ªùi kh√°c. N·∫øu b·∫°n c√≥ commit m·∫≠t kh·∫©u, *h√£y thay ƒë·ªïi m·∫≠t kh·∫©u ngay l·∫≠p t·ª©c*. N·∫øu b·∫°n ƒë√£ commit m·ªôt key, *h√£y t·∫°o l·∫°i key ƒë√≥ ngay l·∫≠p t·ª©c*. Vi·ªác amend commit ƒë√£ ƒë·∫©y l√† kh√¥ng ƒë·ªß, v√¨ b·∫•t k·ª≥ ai c≈©ng c√≥ th·ªÉ ƒë√£ pull commit ch·ª©a d·ªØ li·ªáu nh·∫°y c·∫£m c·ªßa b·∫°n trong th·ªùi gian ƒë·∫•y.

N·∫øu b·∫°n ƒë√£ ch·ªânh s·ª≠a t·ªáp v√† x√≥a d·ªØ li·ªáu nh·∫°y c·∫£m, h√£y ch·∫°y
```sh
(feature-branch)$ git add EditedFile
(feature-branch)$ git commit --amend --no-edit
(feature-branch)$ git push --force-with-lease origin [branch]
```

N·∫øu b·∫°n mu·ªën x√≥a to√†n b·ªô t·ªáp (nh∆∞ng gi·ªØ tr√™n local), h√£y ch·∫°y:
```sh
(feature-branch)$ git rm --cached sensitive_file
echo sensitive_file >> .gitignore
(feature-branch)$ git add .gitignore
(feature-branch)$ git commit --amend --no-edit
(feature-branch)$ git push --force-with-lease origin [branch]
```
Ngo√†i ra, l∆∞u tr·ªØ d·ªØ li·ªáu nh·∫°y c·∫£m c·ªßa b·∫°n trong c√°c bi·∫øn m√¥i tr∆∞·ªùng (variable) c·ªßa local.

N·∫øu b·∫°n mu·ªën x√≥a ho√†n to√†n to√†n b·ªô t·ªáp (v√† kh√¥ng gi·ªØ t·ªáp t·∫°i local), h√£y ch·∫°y

```sh
(feature-branch)$ git rm sensitive_file
(feature-branch)$ git commit --amend --no-edit
(feature-branch)$ git push --force-with-lease origin [branch]
```

N·∫øu b·∫°n ƒë√£ th·ª±c hi·ªán c√°c commit kh√°c (t·ª©c l√† d·ªØ li·ªáu nh·∫°y c·∫£m n·∫±m t·∫°i commit tr∆∞·ªõc commit m·ªõi nh·∫•t), b·∫°n s·∫Ω ph·∫£i rebase.

<a href="#i-want-to-remove-a-large-file-from-ever-existing-in-repo-history"></a>
### T√¥i mu·ªën x√≥a file to qu√° ƒë·ªÉ ch∆∞a bao gi·ªù xu·∫•t hi·ªán trong l·ªãch s·ª≠ repository

N·∫øu file b·∫°n mu·ªën x√≥a c·∫ßn b·∫£o m·∫≠t hay l√† file ch∆∞a th√¥ng tin nh·∫°y c·∫£m, xem ph·∫ßn [x√≥a file ch·ª©a th√¥ng tin nh·∫°y c·∫£m](#undo-sensitive-commit-push).

M·∫∑c d√π b·∫°n ƒë√£ x√≥a m·ªôt file to hay file kh√¥ng mu·ªën c√≥ trong d·ª± √°n, n√≥ c√≥ th·ªÉ v·∫´n t·ªìn t·∫°i trong l·ªãch s·ª≠ git (git history) c·ªßa respository trong th∆∞ m·ª•c `.git`, v√† s·∫Ω khi·∫øn c√°c l·ªánh `git clone` t·∫£i file kh√¥ng c·∫ßn thi·∫øt.

Nh·ªØng b∆∞·ªõc trong ph·∫ßn n√†y s·∫Ω y√™u c·∫ßu push √©p, v√† vi·∫øt l·∫°i ph·∫ßn n√†o l·ªãch s·ª≠ git c·ªßa repository, th·∫ø n√™n n·∫øu b·∫°n l√†m vi·ªác v·ªõi nh·ªØng ng∆∞·ªùi kh√°c, ki·ªÉm tra l√† nh·ªØng thay ƒë·ªïi c·ªßa h·ªç ƒë√£ ƒë∆∞·ª£c ƒë·∫©y.

C√≥ hai l·ª±a ch·ªçn ƒë·ªÉ vi·∫øt l·∫°i l·ªãch s·ª≠, s·ª≠ d·ª•ng t√≠nh nƒÉng s√£n c√≥ `git-filter-branch` ho·∫∑c d√πng [`bfg-repo-cleaner`](https://rtyley.github.io/bfg-repo-cleaner/). `bfg` thao t√°c s·∫°ch h∆°n v√† nhanh h∆°n, nh∆∞ng ƒë√¢y l√† ph·∫ßn m·ªÅm b√™n th·ª© ba v√† c·∫ßn c√≥ Java. Ch√∫ng ta s·∫Ω xem c·∫£ hai c√°ch. B∆∞·ªõc cu·ªëi c√πng l√† push √©p thay ƒë·ªïi c·ªßa b·∫°n, l·∫ßn n√†y s·∫Ω c√≤n c·∫ßn ch√∫ √Ω xem x√©t h∆°n c√°c push √©p b√¨nh th∆∞·ªùng b·ªüi v√¨ m·ªôt ph·∫ßn kh√¥ng nh·ªè l·ªãch s·ª≠ repository s·∫Ω thay ƒë·ªïi vƒ©nh vi·ªÖn. 

#### C√°ch khuy·∫øn kh√≠ch: S·ª≠ d·ª•ng d·ªãch v·ª• b√™n th·ª© ba bfg

S·ª≠ d·ª•ng bfg-repo-cleaner c·∫ßn c√≥ Java. T·∫£i file d·∫°ng .jar cho ph·∫ßn m·ªÅm bfg v·ªõi ƒë∆∞·ªùng link [n√†y](https://rtyley.github.io/bfg-repo-cleaner/). V√≠ d·ª• t·∫°i ƒë√¢y s·∫Ω d√πng `bfg.jar`, nh∆∞ng file b·∫°n t·∫£i xu·ªëng c√≥ th·ªÉ c√≥ th√™m s·ªë phi√™n b·∫£n nh∆∞ `bfg-1.13.0.jar`.

ƒê·ªÉ x√≥a m·ªôt file, d√πng l·ªánh:
```sh
(main)$ git rm path/to/FileToRemove
(main)$ git commit -m "Commit removing filetoremove"
(main)$ java -jar ~/Downloads/bfg.jar --delete-files FileToRemove
```
L∆∞u √Ω l√† v·ªõi bfg b·∫°n d√πng t·ªÉn c·ªßa file ch·ª© kh√¥ng ph·∫£i ƒë∆∞·ªùng d·∫´n ƒë·∫øn file.
Note that in bfg you must use the plain file name 

B·∫°n c≈©ng c√≥ th·ªÉ x√≥a file d∆∞·ª£ng theo m·ªôt khu√¥n m·∫´u, v√≠ d·ª• x√≥a t·∫•t c·∫£ file d·∫°ng .jpg:
```sh
(main)$ git rm *.jpg
(main)$ git commit -m "Commit removing *.jpg"
(main)$ java -jar ~/Downloads/bfg.jar --delete-files *.jpg
```

V·ªõi bfg, the files that exist on your latest commit will not be affected. For example, if you had several large .tga files in your repo, and then in an earlier commit, you deleted a subset of them, this call does not touch files present in the latest commit

L∆∞u √Ω, n·∫øu b·∫°n thay ƒë·ªïi t√™n file trong m·ªôt commit tr∆∞·ªõc, v√≠ d·ª•: n·∫øu t·ªáp b·∫Øt ƒë·∫ßu v·ªõi t√™n `LargeFileFirstName.mp4` v√† m·ªôt commit ƒë·ªïi t√™n t·ªáp th√†nh `LargeFileSecondName.mp4`, ch·∫°y l·ªánh `java -jar ~/Downloads/bfg.jar --delete-files LargeFileSecondName.mp4` s√© kh√¥ng x√≥a file trong l·ªãch s·ª≠ git. Ho·∫∑c l√† ch·∫°y l·ªánh `--delete-files` v·ªõi c·∫£ hai t√™n, ho·∫∑c v·ªõi khu√¥n m·∫´u nh∆∞ tr√™n.

#### C√°ch c√≥ s·∫µn: S·ª≠ d·ª•ng git-filter-branch

`git-filter-branch` n·∫∑ng h∆°n v√† √≠t t√≠nh nƒÉng h∆°n, nh∆∞ng b·∫°n c√≥ th·ªÉ d√πng c√°ch n√†y n·∫øu kh√¥ng th·ªÉ c√†i hay ch·∫°y `bfg`.

Trong l·ªánh b√™n d∆∞·ªõi, thay `filepattern` v·ªõi t√™n file ho·∫∑c khu√¥ng m·∫´u, v.d. `*.jpg`. L·ªánh n√†y s·∫Ω x√≥a file theo khu√¥n m·∫´u kh·ªèi t·∫•t c·∫£ l·ªãch s·ª≠ c·ªßa t·∫•t c·∫£ c√°c nh√°nh. 

```sh
(main)$ git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch filepattern' --prune-empty --tag-name-filter cat -- --all
```

Gi·∫£i th√≠ch l·ªánh tr√™n:

`--tag-name-filter cat` kh√° l√† n·∫∑ng, nh∆∞ng l√† c√°ch ƒë∆°n gi·∫£n nh·∫•t ƒë·ªÉ gi·ªØ nguy√™n c√°c tags cho c√°c commit m·ªõi b·∫±ng c√°ch s·ª≠ d·ª•ng l·ªánh `cat`.

`--prune-empty` x√≥a nh·ªØng commit b√¢y gi·ªù ƒë·ªÉ tr·ªëng r·ªóng.

#### B∆∞·ªõc cu·ªëi: ƒê·∫©y l·ªãch s·ª≠ ƒë√£ thay ƒë·ªïi c·ªßa repository

M·ªôt khi b·∫°n ƒë√£ x√≥a file, ki·ªÉm tra th·∫≠t c·∫©n th·∫≠n l√† b·∫°n kh√¥ng l√†m h·ªèng c√°i g√¨ trong repo - v√† n·∫øu b·∫°n ƒë√£ l√†m h·ªèng c√°i g√¨ ƒë√≥, d·ªÖ nh·∫•t l√† clone repo l·∫°i v√† b·∫Øt ƒë·∫ßu t·ª´ ƒë·∫ßu.
ƒê·ªÉ k·∫øt th√∫c, b·∫°n c√≥ th·ªÉ d√πng ch·ª©c nƒÉng thu h·ªìi r√°c (garbage collection) ƒë·ªÉ gi·∫£m thi·ªÉu k√≠ch c·ª° t·ªáp .git v√† r·ªìi push √©p. c
```sh
(main)$ git reflog expire --expire=now --all && git gc --prune=now --aggressive
(main)$ git push origin --force --tags
```

V√¨ b·∫°n v·ª´a vi·∫øt l·∫°i to√†n b·ªô l·ªãch s·ª≠ git repository, l·ªánh `git push` c√≥ th·ªÉ qu√° to ƒë·ªÉ thi h√†nh, v√† g·ª≠i l·∫°i th√¥ng ƒëi·ªáp l·ªói (error) `‚ÄúThe remote end hung up unexpectedly‚Äù`. N·∫øu vi·ªác n√†y x·∫£y ra, b·∫°n c√≥ th·ªÉ th·ª≠ tƒÉng post buffer c·ªßa git:
```sh
(main)$ git config http.postBuffer 524288000
(main)$ git push --force
```

N·∫øu c√°ch n√†y kh√¥ng hi·ªáu qu·∫£, b·∫°n s·∫Ω ph·∫£i push th·ªß c√¥ng l·ªãch s·ª≠ repo t·ª´ng c·ª•c m·ªôt. V·ªõi l·ªánh b√™n d∆∞·ªõi, d·∫ßn d·∫ßn tƒÉng con s·ªë cho `<s·ªë c·ª•c>` ƒë·∫øn khi n√†o l·ªánh push th√†nh c√¥ng.
```sh
(main)$ git push -u origin HEAD~<s·ªë c·ª•c>:refs/head/main --force
```
M·ªôt khi l·ªánh push th√†nh c√¥ng, d·∫ßn d·∫ßn gi·∫£m thi·ªÉu `<s·ªë c·ª•c>` cho ƒë·∫øn khi m·ªôt l·ªánh `git push` b√¨nh th∆∞·ªùng th√†nh c√¥ng.

<a href="i-need-to-change-the-content-of-a-commit-which-is-not-my-last"></a>
### T√¥i c·∫ßn thay ƒë·ªïi n·ªôi dung c·ªßa m·ªôt commit nh∆∞ng kh√¥ng ph·∫£i l√† c√°i m·ªõi nh·∫•t

Gi·∫£ s·ª≠ b·∫°n ƒë√£ c√≥ v√†i (v.d. ba) commit v√† sau nh·∫≠n ra l√† b·∫°n qu√™n m·∫•t kh√¥ng cho v√†o m·ªôt th·ª© g√¨ ƒë√≥ h·ª£p h∆°n v·ªõi commit ƒë·∫ßu ti√™n. Vi·ªác n√†y l√†m phi·ªÅn b·∫°n v√¨ m·∫∑c d√π n·∫øu ti·∫øp t·ª•c commit b·∫°n s·∫Ω c√≥ l·ªãch s·ª≠ s·∫°ch s·∫Ω nh∆∞ng commit c·ªßa b·∫°n kh√¥ng nguy√™n ch·∫•t (nh·ªØng thay ƒë·ªïi li√™n quan v·ªõi nhau n√™n ·ªü c√πng m·ªôt commit). Trong tr∆∞·ªùng h·ª£p nh∆∞ v·∫≠y, b·∫°n ch·∫Øc mu·ªën cho th√™m nh·ªØng thay ƒë·ªïi li√™n quan v√†o commit mong mu·ªën nh∆∞ng kh√¥ng mu·ªën nh·ªØng commit sau ti·∫øp c≈©ng ph·∫£i s·ª≠a theo. Trong tr∆∞·ªùng h·ª£p nh∆∞ v√¢y, `git rebase` c√≥ th·ªÉ c·ª©u b·∫°n.

Hay xem tr∆∞·ªùng h·ª£p m√† b·∫°n mu·ªën thay ƒë·ªïi commit s·ªë ba n·∫øu ƒë·∫øm ng∆∞·ª£c. 

```sh
(nh√°nh-b·∫°n)$ git rebase -i HEAD~4
```

L·ªánh tr√™n ƒë∆∞a b·∫°n v√†o mode (ch·∫ø ƒë·ªô) rebase t∆∞∆°ng t√°c (interactive rebase), ch·∫ø ƒë·ªô cho ph√©p b·∫°n edit ba commit m·ªõi nh·∫•t. M·ªôt tr√¨nh so·∫°n th·∫£o (text editor) s·∫Ω b·∫≠t l√™n tr√¥ng gi·ªëng nh∆∞ sau:

```sh
pick 9e1d264 commit tr∆∞·ªõc ba
pick 4b6e19a commit tr∆∞·ªõc hai
pick f4037ec commit tr∆∞·ªõc
```

v√† b·∫°n thay/vi·∫øt th√†nh:

```sh
edit 9e1d264 commit tr∆∞·ªõc ba
pick 4b6e19a commit tr∆∞·ªõc hai
pick f4037ec commit tr∆∞·ªõc
```

L·ªánh n√†y b·∫£o rebase l√† b·∫°n mu·ªën thay ƒë·ªïi commit tr∆∞·ªõc ba v√† gi·ªØ hai commit kia kh√¥ng thay ƒë·ªïi. Sau ƒë√≥ b·∫°n save (v√† ƒë√≥ng) tr√¨nh so·∫°n th·∫£o. Git b√¢y gi·ªù s·∫Ω b·∫Øt ƒë·∫ßu rebase. N√≥ d·ª´ng l·∫°i ·ªü commit b·∫°n ƒë·ªÉ l√† edit v√† cho b·∫°n c∆° h·ªôi thay ƒë·ªïi commit ƒë·∫•y. B√¢y gi·ªù b·∫°n c√≥ th·ªÉ cho th√™m nh·ªØng thay ƒë·ªïi b·∫°n l·ª° kh√¥ng cho v√†o l·∫ßn ƒë·∫ßu. ƒê·ªÉ l√†m th·∫ø, b·∫°n edit r·ªìi stage nh·ªØng thay ƒë·ªïi ƒë·∫•yNow you can apply the changes which you missed applying when you initially committed that commit. Sau ƒë√≥ b·∫°n ch·∫°y l·ªánh:

```sh
(your-branch)$ git commit --amend
```

L·ªánh b·∫£o Git l√† c·∫ßn t·∫°o l·∫°i commit, nh∆∞ng gi·ªØ nguy√™n th√¥ng ƒëi·ªáp commit. which tells Git to recreate the commit, but to leave the commit message unedited. Th·∫ø l√† xong ph·∫ßn kh√≥ nh·∫•t. Cu·ªëi c√πng l√† ch·∫°y l·ªánh:

```sh
(your-branch)$ git rebase --continue
```

L·ªánh tr√™n s·∫Ω gi·∫£i quy·∫øt ph·∫ßn c√≤n l·∫°i.

## Staging (s√¢n chuy·ªÉn ti·∫øp)

<a href="#i-need-to-add-staged-changes-to-the-previous-commit"></a>
### T√¥i c·∫ßn cho th√™m c√°c thay ƒë·ªïi ƒëang trong stage v√†o commit tr∆∞·ªõc

```sh
(my-branch*)$ git commit --amend
```

N·∫øu b·∫°n ƒë√£ bi·∫øt b·∫°n kh√¥ng mu·ªën thay ƒë·ªïi th√¥ng ƒëi·ªáp commit, b·∫°n c√≥ th·ªÉ y√™u c·∫ßu git s·ª≠ d·ª•ng l·∫°i commit message:

```sh
(my-branch*)$ git commit --amend -C HEAD
```


<a name="commit-partial-new-file"></a>
### T√¥i mu·ªën stage m·ªôt ph·∫ßn c·ªßa m·ªôt file m·ªõi, nh∆∞ng kh√¥ng ph·∫£i to√†n b·ªô file

Th√¥ng th∆∞·ªùng, n·∫øu b·∫°n mu·ªën stage m·ªôt ph·∫ßn c·ªßa m·ªôt file, b·∫°n ch·∫°y l·ªánh n√†y:

```sh
$ git add --patch filename.x
```

B·∫°n c√≥ th·ªÉ d√πng `-p` thay `--patch` cho ng·∫Øn. L·ªánh n√†y s·∫Ω m·ªü ch·∫ø ƒë·ªô interactive. B·∫°n c√≥ th·ªÉ cho th√™m `s` ƒë·ªÉ c·∫Øt commit - tuy nhi√™n, n·∫øu l√† file m·ªõi, b·∫°n s·∫Ω kh√¥ng c√≥ l·ª±a ch·ªçn n√†y. ƒê·ªÉ th√™m m·ªôt file m·ªõi, l√†m nh∆∞ sau:

```sh
$ git add -N filename.x
```

Sau ƒë√≥, b·∫°n s·∫Ω c·∫ßn s·ª≠ d·ª•ng `e` ƒë·ªÉ th·ªß c√¥ng th√™m d√≤ng. Ch·∫°y l·ªánh `git diff --cached` ho·∫∑c
`git diff --staged` s·∫Ω cho b·∫°n th·∫•y nh·ªØng d√≤ng b·∫°n ƒë√£ stage so v·ªõi nh·ªØng d√≤ng v·∫´n l∆∞u ·ªü local.

<a href="stage-in-two-commits"></a>
### T√¥i mu·ªën th√™m c√°c thay ƒë·ªïi trong m·ªôt file v√†o 2 commit kh√°c nhau

`git add` s·∫Ω th√™m to√†n b·ªô file v√†o m·ªôt commit. `git add -p` s·∫Ω cho v√†o ch·∫ø ƒë·ªô t∆∞∆°ng t√°c ƒë·ªÉ ch·ªçn nh·ªØng thay ƒë·ªïi b·∫°n mu·ªën th√™m v√†o.

<a href="selective-unstage-edits"></a>
### T√¥i cho l√™n stage qu√° nhi·ªÅu thay ƒë·ªïi, v√† t√¥i mu·ªën t√°ch ra th√†nh c√°c commit kh√°c nhau

`git reset -p` s·∫Ω m·ªü ch·∫ø ƒë·ªô patch v√† h·ªôp tho·∫°i ƒë·ªÉ reset. Vi·ªác n√†y s·∫Ω gi·ªëng nh∆∞ v·ªõi l·ªánh `git add -p`, ngo·∫°i tr·ª´ l√† vi·ªác ch·ªçn "yes" s·∫Ω ƒë∆∞a thay ƒë·ªïi kh·ªèi stage, lo·∫°i tr·ª´ n√≥ kh·ªèi commit ti·∫øp ƒë·∫øn.

<a href="unstaging-edits-and-staging-the-unstaged"></a>
### T√¥i mu·ªën cho l√™n stage c√°c ch·ªânh s·ª≠a ch∆∞a ƒë∆∞·ª£c stage v√† h√£ kh·ªèi stage c√°c ch·ªânh s·ª≠a ƒë√£ stage

Ph·∫ßn l·ªõn th·ªùi gian, b·∫°n n√™n h·∫° t·∫•t c·∫£ c√°c file ƒë√£ tr√™n stage v√† ch·ªçn l·∫°i nh·ªØng file b·∫°n mu·ªën commit.Nh∆∞ng gi·∫£ s·ª≠ b·∫°n mu·ªën thay c√°c thay ƒë·ªïi l√™n v√† h·∫° stage, b·∫°n c√≥ th·ªÉ t·∫°o m·ªôt commit t·∫°m th·ªùi, n√¢ng l√™n stage c√°c thay ƒë·ªïi, r·ªìi stash (c·∫•t) n√≥. Sau ƒë√≥, reset c√°i commit t·∫°m th·ªùi r·ªìi pop c√°i stage b·∫°n v·ª´a c·∫•t.

```sh
$ git commit -m "WIP"
$ git add . # "." s·∫Ω th√™m t·∫•t c·∫£ file ch∆∞a theo d√µi
$ git stash
$ git reset HEAD^
$ git stash pop --index 0
```

GHI CH√ö 1: L√Ω do ƒë·ªÉ d√πng `pop` l√† ƒë·ªÉ gi·ªØ nguy√™n c√°c thay ƒë·ªïi nh·∫•t c√≥ th·ªÉ.
GHI CH√ö 2: C√°c file ƒë√£ n√¢ng l√™n stage s·∫Ω b·ªã h·∫° n·∫øu kh√¥ng c√≥ th√™m c·ªù `--index`. ([Link](https://stackoverflow.com/questions/31595873/git-stash-with-staged-files-does-stash-convert-staged-files-to-unstaged?answertab=active#tab-top) explains why.)

## Thay ƒë·ªïi ch∆∞a l√™n s√¢n (Unstaged Edits)

<a href="move-unstaged-edits-to-new-branch"></a>
### T√¥i mu·ªën di chuy·ªÉn c√°c ch·ªânh s·ª≠a ch∆∞a l√™n stage sang m·ªôt nh√°nh m·ªõi

```sh
$ git checkout -b nh√°nh-m·ªõi
```

<a href="move-unstaged-edits-to-old-branch"></a>
### T√¥i mu·ªën di chuy·ªÉn c√°c ch·ªânh s·ª≠a ch∆∞a stage c·ªßa t√¥i ƒë·∫øn m·ªôt nh√°nh kh√°c ƒë√£ t·ªìn t·∫°i

```sh
$ git stash
$ git checkout nh√°nh-t·ªìn-t·∫°i
$ git stash pop
```

<a href="i-want-to-discard-my-local-uncommitted-changes"></a>
### T√¥i mu·ªën b·ªè c√°c thay ƒë√¥i ch∆∞a trong commit t·∫°i local (ƒë√£ l√™n ho·∫∑c ch∆∞a l√™n stage)

N·∫øu b·∫°n mu·ªën b·ªè t·∫•t c·∫£ c√°c thay ƒë·ªïi ƒë√£ l√™n ho·∫∑c ch∆∞a l√™n stage t·∫°i local c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ l√†m nh∆∞ sau:

```sh
(my-branch)$ git reset --hard
# ho·∫∑c
(main)$ git checkout -f
```

L·ªánh sau s·∫Ω h·∫° kh·ªèi stage t·∫•t c·∫£ thay ƒë·ªïi b·∫°n ƒë√£ cho l√™n stage v·ªõi `git add`:

```sh
$ git reset
```

L·ªánh sau s·∫Ω ƒë·∫£o ng∆∞·ª£c t·∫•t c·∫£ c√°c thay ƒë·ªïi ch∆∞a commit t·∫°i local (n√™n ch·∫°y t·∫°i th∆∞ m·ª•c g·ªëc repo):

```sh
$ git checkout .
```

B·∫°n c≈©ng c√≥ th·ªÉ ƒë·∫£o ng∆∞·ª£c c√°c thay ƒë·ªïi ch∆∞a commit cho m·ªôt file ho·∫∑c m·ªôt th∆∞ m·ª•c c·ª• th·ªÉ:

```sh
$ git checkout [th∆∞_m·ª•c|file.txt]
```

Tuy nhi√™n, m·ªôt c√°ch kh√°c ƒë·ªÉ ƒë·∫£o ng∆∞·ª£c t·∫•t c·∫£ c√°c thay ƒë·ªïi ch∆∞a commit (d√†i h∆°n ƒë·ªÉ nh·∫≠p, nh∆∞ng ho·∫°t ƒë·ªông t·ª´ b·∫•t k·ª≥ th∆∞ m·ª•c con n√†o):

```sh
$ git reset --hard HEAD
```

L·ªánh tr√™n s·∫Ω xo√° t·∫•t c·∫£ c√°c file ch∆∞a ƒë∆∞·ª£c theo d√µi(untracked) t·∫°i local, do ƒë√≥, ch·ªâ c√°c file ƒë√£ ƒë∆∞·ª£c theo d√µi b·ªüi git (tracked) c√≤n t·ªìn:

```sh
$ git clean -fd
```

Th√™m c·ªù `-x` ƒë·ªÉ xo√° t·∫•t c·∫£ c√°c file ƒë√£ ignore.

### T√¥i mu·ªën lo·∫°i b·ªè c√°c thay ƒë·ªïi c·ª• th·ªÉ ch∆∞a l√™n stage

Khi b·∫°n mu·ªën lo·∫°i b·ªè m·ªôt s·ªë, nh∆∞ng kh√¥ng ph·∫£i t·∫•t c·∫£, c√°c thay ƒë·ªïi trong b·∫£n sao l√†m vi·ªác c·ªßa b·∫°n.

Checkout c√°c thay ƒë·ªïi kh√¥ng mong mu·ªën, gi·ªØ c√°c thay ƒë·ªïi t·ªët.

```sh
$ git checkout -p
# Tr·∫£ l·ªùi y ƒë·ªëi v·ªõi nh·ªØng thay ƒë·ªïi b·∫°n kh√¥ng mu·ªën gi·ªØ
```

M·ªôt c√°ch kh√°c th√¨ s·ª≠ d·ª•ng `stash` (c·∫•t). C·∫•t t·∫•t c·∫£ c√°c thay ƒë·ªïi t·ªët, reset b·∫£n sao l√†m vi·ªác v√† apply l·∫°i c√°c thay ƒë·ªïi t·ªët.

```sh
$ git stash -p
# Ch·ªçn nh·ªØng thay ƒë·ªïi b·∫°n mu·ªën gi·ªØ
$ git reset --hard
$ git stash pop
```

Ngo√†i ra, c√≤n c√°ch c·∫•t nh·ªØng thay ƒë·ªïi kh√¥ng mong mu·ªën c·ªßa b·∫°n v√† sau ƒë√≥ drop stash.

```sh
$ git stash -p
# Ch·ªçn nh·ªØng thay ƒë·ªïi b·∫°n kh√¥ng mu·ªën gi·ªØ
$ git stash drop
```

### T√¥i mu·ªën lo·∫°i b·ªè c√°c file c·ª• th·ªÉ ch∆∞a l√™n stage

Khi b·∫°n mu·ªën lo·∫°i b·ªè m·ªôt file c·ª• th·ªÉ trong b·∫£n sao l√†m vi·ªác c·ªßa b·∫°n.

```sh
$ git checkout FileC·ªßaT√¥i
```

Ngo√†i ra, ƒë·ªÉ lo·∫°i b·ªè nhi·ªÅu file trong b·∫£n sao l√†m vi·ªác c·ªßa b·∫°n, h√£y li·ªát k√™ t·∫•t c·∫£ ch√∫ng.

```sh
$ git checkout FileTh·ª©Nh·∫•t FileTh·ª©Hai
```

### T√¥i mu·ªën ch·ªâ lo·∫°i b·ªè c√°c thay ƒë·ªïi ch∆∞a l√™n stage t·∫°i local

Khi b·∫°n mu·ªën lo·∫°i b·ªè t·∫•t c·∫£ c√°c thay ƒë·ªïi ch∆∞a commit m√† ch∆∞a stage t·∫°i local

```sh
$ git checkout .
```
<a href="i-want-to-discard-all-my-untracked-files"></a>
### T√¥i mu·ªën lo·∫°i b·ªè t·∫•t c·∫£ c√°c file ch∆∞a ƒë∆∞·ª£c theo d√µi (track)

Khi b·∫°n mu·ªën lo·∫°i b·ªè t·∫•t c·∫£ c√°c file ch∆∞a ƒë∆∞·ª£c theo d√µi

```sh
$ git clean -f
```

<a href="I-want-to-unstage-specific-staged-file"></a>
### T√¥i mu·ªën h·∫° kh·ªèi stage m·ªôt file c·ª• th·ªÉ ƒë√£ stage

ƒê√¥i khi, ch√∫ng ta c√≥ m·ªôt ho·∫∑c nhi·ªÅu file ƒë√£ v√¥ t√¨nh l√™n stage v√† c√°c file n√†y ch∆∞a ƒë∆∞·ª£c commit tr∆∞·ªõc ƒë√≥. ƒê·ªÉ h·∫° ch√∫ng kh·ªèi stage:

```sh
$ git reset -- <T√™nFile>
```

L·ªánh tr√™n s·∫Ω h·∫° file kh·ªèi stage v√† l√†m n√≥ kh√¥ng ƒë∆∞·ª£c theo d√µi (untracked).

## Nh√°nh

### T√¥i mu·ªën li·ªát k√™ t·∫•t c·∫£ c√°c nh√°nh

Li·ªát k√™ c√°c nhanh t·∫°i local

```sh
$ git branch
```

Li·ªát k√™ c√°ch nh√°nh tr√™n remote

```sh
$ git branch -r
```

Li·ªát k√™ t·∫•t c·∫£ c√°c nh√°nh (c·∫£ local v√† remote)

```sh
$ git branch -a
```

<a name="create-branch-from-commit"></a>
### T·∫°o m·ªôt nh√°nh m·ªõi t·ª´ m·ªôt commit
```sh
$ git checkout -b <nh√°nh> <SHA1_C·ªßa_COMMIT>
```

<a name="pull-wrong-branch"></a>
### T√¥i ƒë√£ pull (k√©o) t·ª´/v√†o sai nh√°nh

ƒê√¢y l√† m·ªôt c∆° h·ªôi kh√°c ƒë·ªÉ d√πng `git reflog` ƒë·ªÉ xem HEAD ƒë√£ tr·ªè ·ªü ƒë√¢u tr∆∞·ªõc khi pull sai.

```sh
(main)$ git reflog
ab7555f HEAD@{0}: pull origin nh√°nh-sai: Fast-forward
c5bc55a HEAD@{1}: checkout: checkout message goes here
```

Ch·ªâ c·∫ßn reset nh√°nh c·ªßa b·∫°n v·ªÅ commit mong mu·ªën:

```sh
$ git reset --hard c5bc55a
```

Xong.

<a href="discard-local-commits"></a>
### T√¥i mu·ªën lo·∫°i b·ªè c√°c commit t·∫°i local ƒë·ªÉ nh√°nh c·ªßa t√¥i gi·ªëng nh∆∞ nh√°nh tr√™n server

Ki·ªÉm tra r·∫±ng b·∫°n ch∆∞a push c√°c thay ƒë·ªïi c·ªßa m√¨nh ƒë·∫øn server.

`git status` s·∫Ω hi·ªÉn th·ªã s·ªë l∆∞·ª£ng c√°c commit b·∫°n c√≥ h∆°n origin:

```sh
(my-branch)$ git status
# On branch my-branch
# Your branch is ahead of 'origin/my-branch' by 2 commits.
#   (use "git push" to publish your local commits)
#
```

M·ªôt c√°ch ƒë·ªÉ reset v·ªÅ origin (ƒë·ªÉ c√≥ nh√°nh gi·ªëng nh∆∞ tr√™n remote) l√† ch·∫°y l·ªánh:

```sh
(main)$ git reset --hard origin/my-branch
```

<a name="commit-wrong-branch"></a>
### T√¥i ƒë√£ t·∫°o commit l√™n main thay v√¨ m·ªôt nh√°nh m·ªõi

T·∫°o nh√°nh m·ªõi trong khi gi·ªØ main:

```sh
(main)$ git branch my-branch
```

Reset nh√°nh main ƒë·∫øn commit tr∆∞·ªõc ƒë√≥:

```sh
(main)$ git reset --hard HEAD^
```

`HEAD^` l√† vi·∫øt t·∫Øt c·ªßa `HEAD^1`. ƒê√¢y l√† vi·∫øt t·∫Øt c·ªßa parent th·ª© nh·∫•t `HEAD`, t∆∞∆°ng t·ª± `HEAD^2` l√† vi·∫øt t·∫Øt c·ªßa parent th·ª© hai c·ªßa commit (merge c√≥ th·ªÉ c√≥ 2 parent).

Ch√∫ √Ω r·∫±ng `HEAD^2`  **kh√¥ng** gi·ªëng nh∆∞ `HEAD~2` (xem [link](http://www.paulboxley.com/blog/2011/06/git-caret-and-tilde) ƒë·ªÉ th√™m th√¥ng tin).

Ngo√†i ra, n·∫øu b·∫°n kh√¥ng mu·ªën s·ª≠ d·ª•ng `HEAD^`, t√¨m m√£ hash c·ªßa commit m√† b·∫°n mu·ªën main tr·ªè v·ªÅ(`git log` s·∫Ω gi√∫p b·∫°n). Sau ƒë√≥ reset v·ªÅ m√£ hash ƒë·∫•y. `git push` s·∫Ω ƒë·∫£m b·∫£o r·∫±ng thay ƒë·ªïi n√†y s·∫Ω hi·ªán tr√™n remote c·ªßa b·∫°n.

V√≠ d·ª•, n·∫øu hash c·ªßa commit m√† nh√°nh main c·ªßa b·∫°n ƒë√°ng ra l√† `a13b85e`:

```sh
(main)$ git reset --hard a13b85e
HEAD is now at a13b85e
```

Checkout m·ªôt nh√°nh m·ªõi ƒë·ªÉ ti·∫øp t·ª•c l√†m vi·ªác:

```sh
(main)$ git checkout my-branch
```

<a name="keep-whole-file"></a>
### T√¥i mu·ªën gi·ªØ to√†n b·ªô file t·ª´ m·ªôt ref-ish kh√°c

Gi·∫£ s·ª≠ b·∫°n c√≥ m·ªôt c·ªôt m≈©i l√†m vi·ªác (xem Ghi Ch√∫), v·ªõi h√†ng trƒÉm thay ƒë·ªïi. M·ªçi th·ª© ƒëang ho·∫°t ƒë·ªông. B√¢y gi·ªù, b·∫°n commit v√†o m·ªôt nh√°nh kh√°c ƒë·ªÉ l∆∞u nh·ªØng thay ƒë·ªïi ƒë√≥:

```sh
(solution)$ git add -A && git commit -m "Cho t·∫•t c·∫£ c√°c thay ƒë·ªïi trong c·ªôt m≈©i l√†m vi·ªác n√†y v√†o m·ªôt commit to."
```

Khi b·∫°n mu·ªën ƒë·∫∑t n√≥ v√†o m·ªôt nh√°nh (c√≥ th·ªÉ l√† feature, c√≥ th·ªÉ `develop`), b·∫°n quan t√¢m ƒë·∫øn vi·ªác gi·ªØ to√†n b·ªô c√°c file. B·∫°n mu·ªën chia commit l·ªõn c·ªßa b·∫°n th√†nh nh·ªØng c√°i nh·ªè h∆°n.

Gi·∫£ s·ª≠ b·∫°n c√≥:

  * nh√°nh `solution`, v·ªõi gi√°p ph√°p b·∫°n ph√°t tri·ªÉn v·ªõi c·ªôt m≈©i l√†m vi·ªác c·ªßa b·∫°n. H∆°n `develop` m·ªôt commit.
  * nh√°nh `develop`, n∆°i b·∫°n mu·ªën th√™m c√°c thay ƒë·ªïi c·ªßa b·∫°n.

B·∫°n c√≥ th·ªÉ gi·∫£i quy·∫øt b·∫±ng c√°ch mang n·ªôi dung thay ƒë·ªïi sang nh√°nh c·ªßa b·∫°n:

```sh
(develop)$ git checkout solution -- file1.txt
```

L·ªánh tr√™n s·∫Ω l·∫•y n·ªôi dung c·ªßa t·∫≠p tin ƒë√≥ trong nh√°nh `solution` ƒë·∫øn nh√°nh `develop` c·ªßa b·∫°n:

```sh
# On branch develop
# Your branch is up-to-date with 'origin/develop'.
# Changes to be committed:
#  (use "git reset HEAD <file>..." to unstage)
#
#        modified:   file1.txt
```

Sau ƒë√≥, commit nh∆∞ b√¨nh th∆∞·ªùng.

L∆∞u √Ω: C·ªôt m≈©i gi·∫£i ph√°p ƒë∆∞·ª£c ph√°t tri·ªÉn ƒë·ªÉ ph√¢n t√≠ch ho·∫∑c gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ. C√°c gi·∫£i ph√°p n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh v√† lo·∫°i b·ªè sau khi m·ªçi ng∆∞·ªùi hi·ªÉu r√µ v·∫•n ƒë·ªÅ. ~ [Wikipedia](https://en.wikipedia.org/wiki/Extreme_programming_practices).

<a name="cherry-pick"></a>
### T√¥i ƒë√£ th·ª±c hi·ªán m·ªôt s·ªë commit tr√™n m·ªôt nh√°nh duy nh·∫•t n√≥ n√™n ·ªü tr√™n c√°c nh√°nh kh√°c nhau

Gi·∫£ s·ª≠ b·∫°n ƒëang ·ªü tr√™n nh√°nh main c·ªßa b·∫°n. Ch·∫°y `git log`, b·∫°n th·∫•y b·∫°n ƒë√£ th·ª±c hi·ªán 2 commit:

```sh
(main)$ git log

commit e3851e817c451cc36f2e6f3049db528415e3c114
Author: Alex Lee <alexlee@example.com>
Date:   Tue Jul 22 15:39:27 2014 -0400

    Bug #21 - Added CSRF protection

commit 5ea51731d150f7ddc4a365437931cd8be3bf3131
Author: Alex Lee <alexlee@example.com>
Date:   Tue Jul 22 15:39:12 2014 -0400

    Bug #14 - Fixed spacing on title

commit a13b85e984171c6e2a1729bb061994525f626d14
Author: Aki Rose <akirose@example.com>
Date:   Tue Jul 21 01:12:48 2014 -0400

    First commit
```

H√£y l∆∞u √Ω c√°c hash commit c·ªßa ch√∫ng ta cho m·ªói l·ªói (`e3851e8` cho #21, `5ea5173` cho #14).

Tr∆∞·ªõc ti√™n, h√£y ƒë·∫∑t l·∫°i nh√°nh main c·ªßa ch√∫ng ta v·ªÅ commit ch√≠nh x√°c (`a13b85e`):

```sh
(main)$ git reset --hard a13b85e
HEAD is now at a13b85e
```

B√¢y gi·ªù, ch√∫ng ta c√≥ th·ªÉ t·∫°o ra m·ªôt nh√°nh m·ªõi cho l·ªói c·ªßa ch√∫ng ta #21:

```sh
(main)$ git checkout -b 21
(21)$
```

B√¢y gi·ªù, h√£y *cherry-pick* commit cho bug #21 tr√™n ƒë·∫ßu c·ªßa nh√°nh. ƒêi·ªÅu n√†y c√≥ √Ω nghƒ©a l√† ch√∫ng ta s·∫Ω √°p d·ª•ng commit ƒë√≥ v√† ch·ªâ commit ƒë√≥, tr·ª±c ti·∫øp tr√™n ƒë·∫ßu c·ªßa b·∫•t c·ª© head n√†o c·ªßa ch√∫ng ta.

```sh
(21)$ git cherry-pick e3851e8
```

T·∫°i th·ªùi ƒëi·ªÉm n√†y, c√≥ kh·∫£ nƒÉng c√≥ th·ªÉ c√≥ xung ƒë·ªôt. H√£y xem ph·∫ßn [**There were conflicts**](#merge-conflict) trong [ph·∫ßnn interactive rebasing tr√™n](#interactive-rebase) ƒë·ªÉ l√†m th·∫ø n√†o gi·∫£i quy·∫øt xung ƒë·ªôt.

B√¢y gi·ªù ch√∫ng ta h√£y t·∫°o m·ªôt nh√°nh m·ªõi cho bug # 14, c≈©ng d·ª±a tr√™n main

```sh
(21)$ git checkout main
(main)$ git checkout -b 14
(14)$
```

V√† cu·ªëi c√πng, h√£y cherry-pick commit cho bug #14:

```sh
(14)$ git cherry-pick 5ea5173
```

<a name="delete-stale-local-branches"></a>
### T√¥i mu·ªën x√≥a c√°c nh√°nh local ƒë√£ b·ªã x√≥a lu·ªìng ph√≠a tr∆∞·ªõc

Khi b·∫°n k·∫øt h·ª£p m·ªôt request pull tr√™n GitHub, n√≥ s·∫Ω cho b·∫°n t√πy ch·ªçn ƒë·ªÉ x√≥a nh√°nh ƒë√£ merge trong fork c·ªßa b·∫°n. N·∫øu b·∫°n kh√¥ng c√≥ k·∫ø ho·∫°ch ti·∫øp t·ª•c l√†m vi·ªác tr√™n nh√°nh, n√≥ s·∫°ch h∆°n n·∫øu x√≥a c√°c b·∫£n sao local c·ªßa nh√°nh, do ƒë√≥ b·∫°n kh√¥ng k·∫øt th√∫c l·ªôn x·ªôn l√™n checkout lu·ªìng l√†m vi·ªác c·ªßa b·∫°n v·ªõi r·∫•t nhi·ªÅu nh√°nh c≈©.

```sh
$ git fetch -p upstream
```

n∆°i, `upstream` l√† remote b·∫°n mu·ªën fetch t·ª´ ƒë√≥.

<a name='restore-a-deleted-branch'></a>
### T√¥i v√¥ t√¨nh x√≥a nh√°nh c·ªßa t√¥i

N·∫øu b·∫°n th∆∞·ªùng xuy√™n push l√™n remote, b·∫°n s·∫Ω an to√†n ph·∫ßn l·ªõn th·ªùi gian. Nh∆∞ng ƒë√¥i khi b·∫°n c√≥ th·ªÉ s·∫Ω x√≥a c√°c nh√°nh c·ªßa b·∫°n. Gi·∫£ s·ª≠ ch√∫ng ta t·∫°o m·ªôt nh√°nh v√† t·∫°o m·ªôt t·ªáp m·ªõi:

```sh
(main)$ git checkout -b my-branch
(my-branch)$ git branch
(my-branch)$ touch foo.txt
(my-branch)$ ls
README.md foo.txt
```

H√£y th√™m n√≥ v√† commit.

```sh
(my-branch)$ git add .
(my-branch)$ git commit -m 'foo.txt added'
(my-branch)$ foo.txt added
 1 files changed, 1 insertions(+)
 create mode 100644 foo.txt
(my-branch)$ git log

commit 4e3cd85a670ced7cc17a2b5d8d3d809ac88d5012
Author: siemiatj <siemiatj@example.com>
Date:   Wed Jul 30 00:34:10 2014 +0200

    foo.txt added

commit 69204cdf0acbab201619d95ad8295928e7f411d5
Author: Kate Hudson <katehudson@example.com>
Date:   Tue Jul 29 13:14:46 2014 -0400

    Fixes #6: Force pushing after amending commits
```

B√¢y gi·ªù ch√∫ng ta ƒëang chuy·ªÉn v·ªÅ main v√† 'v√¥ t√¨nh' x√≥a nh√°nh c·ªßa ch√∫ng ta

```sh
(my-branch)$ git checkout main
Switched to branch 'main'
Your branch is up-to-date with 'origin/main'.
(main)$ git branch -D my-branch
Deleted branch my-branch (was 4e3cd85).
(main)$ echo oh noes, deleted my branch!
oh noes, deleted my branch!
```

T·∫°i th·ªùi ƒëi·ªÉm n√†y, b·∫°n n√™n l√†m quen v·ªõi 'reflog', m·ªôt logger ƒë∆∞·ª£c n√¢ng c·∫•p. N√≥ l∆∞u tr·ªØ l·ªãch s·ª≠ c·ªßa t·∫•t c·∫£ c√°c h√†nh ƒë·ªông trong repo.

```
(main)$ git reflog
69204cd HEAD@{0}: checkout: moving from my-branch to main
4e3cd85 HEAD@{1}: commit: foo.txt added
69204cd HEAD@{2}: checkout: moving from main to my-branch
```

Nh∆∞ b·∫°n c√≥ th·ªÉ th·∫•y ch√∫ng ta ƒë√£ c√≥ commit hash t·ª´ nh√°nh ƒë√£ x√≥a c·ªßa ch√∫ng t√¥i. H√£y xem li·ªáu ch√∫ng ta c√≥ th·ªÉ kh√¥i ph·ª•c nh√°nh ƒë√£ x√≥a c·ªßa ch√∫ng ta hay kh√¥ng.

```sh
(main)$ git checkout -b my-branch-help
Switched to a new branch 'my-branch-help'
(my-branch-help)$ git reset --hard 4e3cd85
HEAD is now at 4e3cd85 foo.txt added
(my-branch-help)$ ls
README.md foo.txt
```

V√† ƒë·∫•y! Ch√∫ng ta ƒë√£ xo√° file tr∆∞·ªõc c·ªßa ch√∫ng ta. `git reflog` c≈©ng h·ªØu √≠ch khi rebase ƒëi sai l·∫ßm l·ªõn.

### T√¥i mu·ªën xo√° m·ªôt nh√°nh

ƒê·ªÉ xo√° m·ªôt nh√°nh remote:

```sh
(main)$ git push origin --delete my-branch
```

B·∫°n c≈©ng c√≥ th·ªÉ l√†m :

```sh
(main)$ git push origin :my-branch
```

ƒê·ªÉ xo√° nh√°nh local:

```sh
(main)$ git branch -d my-branch
```

ƒê·ªÉ xo√° m·ªôt nh√°nh local *kh√¥ng ƒë∆∞·ª£c* merge ƒë·∫øn nh√°nh hi·ªán t·∫°i ho·∫∑c m·ªôt upstream:

```sh
(main)$ git branch -D my-branch
```

### T√¥i mu·ªën xo√° nhi·ªÅu nh√°nh

Gi·∫£ s·ª≠ b·∫°n mu·ªën xo√° t·∫•t c·∫£ nh√°nh b·∫Øt ƒë·∫ßu v·ªõi `fix/`:

```sh
(main)$ git branch | grep 'fix/' | xargs git branch -d
```

### T√¥i mu·ªën ƒë·ªïi t√™n m·ªôt nh√°nh

ƒê·ªÉ ƒë·ªïi t√™n nh√°nh local hi·ªán t·∫°i:

```sh
(main)$ git branch -m new-name
```

ƒê·ªÉ ƒë·ªïi t√™n nh√°nh local kh√°c:

```sh
(main)$ git branch -m old-name new-name
```

<a name="i-want-to-checkout-to-a-remote-branch-that-someone-else-is-working-on"></a>
### T√¥i mu·ªën checkout ƒë·∫øn m·ªôt nh√°nh remote m√† ng∆∞·ªùi kh√°c ƒëang l√†m vi·ªác tr√™n ƒë√≥

ƒê·∫ßu ti√™n, fetch t·∫•t c·∫£ nh√°nh t·ª´ remote:

```sh
(main)$ git fetch --all
```

Gi·∫£ s·ª≠ b·∫°n mu·ªën checkout sang `daves` t·ª´ remote.

```sh
(main)$ git checkout --track origin/daves
Branch daves set up to track remote branch daves from origin.
Switched to a new branch 'daves'
```

(`--track` l√† vi·∫øt t·∫Øt c·ªßa `git checkout -b [branch] [remotename]/[branch]`)

ƒêi·ªÅu n√†y s·∫Ω cung c·∫•p cho b·∫°n m·ªôt b·∫£n sao c·ª•c b·ªô c·ªßa nh√°nh `daves` v√† m·ªçi c·∫≠p nh·∫≠t ƒë√£ ƒë∆∞·ª£c push c≈©ng s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã t·ª´ remote.

### T√¥i mu·ªën t·∫°o m·ªôt nh√°nh remote m·ªõi t·ª´ m·ªôt nh√°nh local hi·ªán t·∫°i

```sh
$ git push <remote> HEAD
```

N·∫øu b·∫°n c≈©ng mu·ªën ƒë·∫∑t nh√°nh t·ª´ remote nh∆∞ upstream cho nh√°nh hi·ªán t·∫°i, s·ª≠ d·ª•ng:

```sh
$ git push -u <remote> HEAD
```

V·ªõi ch·∫ø ƒë·ªô `upstream` v√† `simple` (m·∫∑c ƒë·ªãnh trong Git 2.0) c·ªßa c·∫•u h√¨nh `push.default`, command sau s·∫Ω push nh√°nh hi·ªán t·∫°i li√™n quan ƒë·∫øn nh√°nh remote ƒë∆∞·ª£c ƒëƒÉng k√Ω tr∆∞·ªõc ƒë√≥ v·ªõi `-u`:

```sh
$ git push
```

C√°c h√†nh ƒë·ªông kh√°c c·ªßa ch·∫ø ƒë·ªô `git push` ƒë∆∞·ª£c m√¥ t·∫£ trong [doc of `push.default`](https://git-scm.com/docs/git-config#git-config-pushdefault).

### T√¥i mu·ªën thi·∫øt l·∫≠p m·ªôt nh√°nh remote gi·ªëng nh∆∞ upstream cho m·ªôt nh√°nh local

B·∫°n c√≥ th·ªÉ thi·∫øt l·∫≠p m·ªôt nh√°nh remote nh∆∞ upstream cho nh√°nh local hi·ªán t·∫°i b·∫±ng c√°ch s·ª≠ d·ª•ng:

```sh
$ git branch --set-upstream-to [remotename]/[branch]
# or, using the shorthand:
$ git branch -u [remotename]/[branch]
```

ƒê·ªÉ thi·∫øt l·∫≠p nh√°nh upstream remote cho nh√°nh local kh√°c:

```sh
$ git branch -u [remotename]/[branch] [local-branch]
```

<a name="i-want-to-set-my-HEAD-to-track-the-default-remote-branch"></a>
### T√¥i mu·ªën thi·∫øt l·∫≠p HEAD c·ªßa t√¥i ƒë·ªÉ theo d√µi nh√°nh remote m·∫∑c ƒë·ªãnh

B·∫±ng c√°ch ki·ªÉm tra c√°c nh√°nh remote c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ th·∫•y r·∫±ng c√°c nh√°nh remote m√† HEAD c·ªßa b·∫°n ƒëang theo d√µi. Trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p, ƒë√¢y kh√¥ng ph·∫£i l√† nh√°nh mong mu·ªën.

```sh
$ git branch -r
  origin/HEAD -> origin/gh-pages
  origin/main
```

ƒê·ªÉ thay ƒë·ªïi  `origin/HEAD` ƒë·ªÉ theo d√µi `origin/main`, b·∫°n c√≥ th·ªÉ ch·∫°y command n√†y:

```sh
$ git remote set-head origin --auto
origin/HEAD set to main
```

### T√¥i ƒë√£ th·ª±c hi·ªán thay ƒë·ªïi tr√™n nh√°nh sai

B·∫°n ƒë√£ th·ª±c hi·ªán c√°c thay ƒë·ªïi ch∆∞a ƒë∆∞·ª£c commit v√† nh·∫≠n ra b·∫°n ƒëang ·ªü nh√°nh sai. Stash c√°c thay ƒë·ªïi v√† apply ch√∫ng v√†o nh√°nh b·∫°n mu·ªën:

```sh
(wrong_branch)$ git stash
(wrong_branch)$ git checkout <correct_branch>
(correct_branch)$ git stash apply
```

<a name="i-want-to-split-a-branch-into-two"></a>
### I want to split a branch into two

You've made a lot of commits on a branch and now want to separate it into two, ending with a branch up to an earlier commit and another with all the changes.

Use `git log` to find the commit where you want to split. Then do the following:

```sh
(original_branch)$ git checkout -b new_branch
(new_branch)$ git checkout original_branch
(original_branch)$ git reset --hard <sha1 split here>
```

If you had previously pushed the `original_branch` to remote, you will need to do a force push. For more information check [Stack Overlflow](https://stackoverflow.com/questions/28983458/how-to-split-a-branch-in-two-with-git/28983843#28983843)

## Rebasing v√† Merging

<a name="undo-rebase"></a>
### T√¥i mu·ªën hu·ª∑ b·ªè rebase/merge

B·∫°n c√≥ th·ªÉ ƒë√£ merge ho·∫∑c rebase nh√°nh hi·ªán t·∫°i c·ªßa b·∫°n v·ªõi m·ªôt nh√°nh sai ho·∫∑c b·∫°n kh√¥ng th·ªÉ t√¨m ra c√°ch ho√†n th√†nh qu√° tr√¨nh rebase/merge. Git l∆∞u con tr·ªè original HEAD trong m·ªôt bi·∫øn ƒë∆∞·ª£c g·ªçi l√† ORIG_HEAD tr∆∞·ªõc khi l√†m c√°c h√†nh ƒë·ªông nguy hi·ªÉm, v√¨ v·∫≠y n√≥ gi·ªëng nh∆∞ m·ªôt nh√°nh kh√¥i ph·ª•c ·ªü m·ªôt tr·∫°ng th√°i tr∆∞·ªõc khi rebase/merge.

```sh
(my-branch)$ git reset --hard ORIG_HEAD
```

<a name="force-push-rebase"></a>
### T√¥i ƒë√£ rebase, nh∆∞ng t√¥i kh√¥ng mu·ªën force push

Th·∫≠t kh√¥ng may, b·∫°n ph·∫£i b·∫Øt bu·ªôc push, n·∫øu b·∫°n mu·ªën nh·ªØng thay ƒë·ªïi ƒë√≥ ƒë∆∞·ª£c √°nh x·∫° tr√™n nh√°nh remote. ƒêi·ªÅu n√†y l√† do b·∫°n ƒë√£ thay ƒë·ªïi l·ªãch s·ª≠. Nh√°nh remote s·∫Ω kh√¥ng ch·∫•p nh·∫≠n thay ƒë·ªïi tr·ª´ khi b·∫°n √©p bu·ªôc. ƒê√¢y l√† m·ªôt trong nh·ªØng l√Ω do ch√≠nh khi·∫øn nhi·ªÅu ng∆∞·ªùi s·ª≠ d·ª•ng m·ªôt lu·ªìng merge, thay v√¨ m·ªôt lu·ªìng rebasing - c√°c nh√≥m l·ªõn c√≥ th·ªÉ g·∫∑p r·∫Øc r·ªëi v·ªõi c√°c developer b·∫Øt bu·ªôc push. S·ª≠ d·ª•ng ƒëi·ªÅu n√†y m·ªôt c√°ch th·∫≠n tr·ªçng. M·ªôt c√°ch an to√†n h∆°n ƒë·ªÉ s·ª≠ d·ª•ng rebase kh√¥ng ph·∫£i l√† ƒë·ªÉ √°nh x·∫° c√°c thay ƒë·ªïi c·ªßa b·∫°n tr√™n nh√°nh remote v√† thay v√†o ƒë√≥ th·ª±c hi·ªán c√°c thao t√°c sau:

```sh
(main)$ git checkout my-branch
(my-branch)$ git rebase -i main
(my-branch)$ git checkout main
(main)$ git merge --ff-only my-branch
```

ƒê·ªÉ bi·∫øt th√™m h√£y xem [this SO thread](https://stackoverflow.com/questions/11058312/how-can-i-use-git-rebase-without-requiring-a-forced-push).

<a name="interactive-rebase"></a>
### T√¥i c·∫ßn k·∫øt h·ª£p c√°c commit

Gi·∫£ s·ª≠ b·∫°n ƒëang l√†m vi·ªác trong m·ªôt nh√°nh c√≥ / s·∫Ω tr·ªü th√†nh m·ªôt pull-request  tr√°i v·ªõi `main`. Trong tr∆∞·ªùng h·ª£p ƒë∆°n gi·∫£n nh·∫•t khi t·∫•t c·∫£ nh·ªØng g√¨ b·∫°n mu·ªën l√†m l√† k·∫øt h·ª£p t·∫•t c·∫£ c√°c commit th√†nh m·ªôt commit v√† b·∫°n kh√¥ng quan t√¢m ƒë·∫øn timestamo commit, b·∫°n c√≥ th·ªÉ ƒë·∫∑t l·∫°i v√† commit l·∫°i. ƒê·∫£m b·∫£o r·∫±ng nh√°nh main ƒë∆∞·ª£c c·∫≠p nh·∫≠t v√† t·∫•t c·∫£ c√°c thay ƒë·ªïi c·ªßa b·∫°n ƒë∆∞·ª£c commit, sau ƒë√≥:

```sh
(my-branch)$ git reset --soft main
(my-branch)$ git commit -am "New awesome feature"
```

N·∫øu b·∫°n mu·ªën ki·ªÉm so√°t nhi·ªÅu h∆°n v√† c≈©ng ƒë·ªÉ b·∫£o v·ªá timestamp, b·∫°n c·∫ßn ph·∫£i l√†m m·ªôt v√†i th·ª© ƒë∆∞·ª£c g·ªçi l√† m·ªôt interactive rebase:

```sh
(my-branch)$ git rebase -i main
```

N·∫øu b·∫°n kh√¥ng l√†m vi·ªác v·ªõi m·ªôt nh√°nh kh√°c, b·∫°n ph·∫£i rebase li√™n quan t·ªõi `HEAD` c·ªßa b·∫°n. N·∫øu b·∫°n mu·ªën squash 2 commit cu·ªëi, b·∫°n s·∫Ω ph·∫£i rebase l·∫°i `HEAD~2`. Cho commit cu·ªëi 3, `HEAD~3`,...

```sh
(main)$ git rebase -i HEAD~2
```

Sau khi b·∫°n ch·∫°y l·ªánh rebase interactive, b·∫°n s·∫Ω th·∫•y m·ªôt c√°i g√¨ ƒë√≥ nh∆∞ th·∫ø n√†y trong tr√¨nh so·∫°n th·∫£o c·ªßa b·∫°n:

```vim
pick a9c8a1d Some refactoring
pick 01b2fd8 New awesome feature
pick b729ad5 fixup
pick e3851e8 another fix

# Rebase 8074d12..b729ad5 onto 8074d12
#
# Commands:
#  p, pick = use commit
#  r, reword = use commit, but edit the commit message
#  e, edit = use commit, but stop for amending
#  s, squash = use commit, but meld into previous commit
#  f, fixup = like "squash", but discard this commit's log message
#  x, exec = run command (the rest of the line) using shell
#
# These lines can be re-ordered; they are executed from top to bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
#
# Note that empty commits are commented out
```

T·∫•t c·∫£ c√°c d√≤ng b·∫Øt ƒë·∫ßu b·∫±ng m·ªôt `#` l√† c√°c comment, ch√∫ng s·∫Ω kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn rebase c·ªßa b·∫°n.

Sau ƒë√≥ b·∫°n thay th·ªÉ c√¢u l·ªánh `pick` v·ªõi nh·ªØng th∆∞ trong danh s√°ch tr√™n v√† b·∫°n c≈©ng c√≥ th·ªÉ lo·∫°i b·ªè c√°c commit b·∫±ng c√°ch xo√° c√°c d√≤ng t∆∞∆°ng ·ª©ng.

V√≠ d·ª•, n·∫øu b·∫°n mu·ªënn **di chuy·ªÉn m·ªôt m√¨nh commit c≈© nh·∫•t(ƒë·∫ßu ti√™n) v√† k·∫øt v·ªõi v·ªõi t·∫•t c·∫£ commit sau v·ªõi commit c≈© th·ª© 2**, b·∫°n n√™n ch·ªânh s·ª≠a ch·ªØ c√°i b√™n c·∫°nh m·ªói commit ngo·∫°i tr·ª´ ch·ªØ c√°i ƒë·∫ßu ti√™n v√† ch·ªØ c√°i th·ª© hai `f`:

```vim
pick a9c8a1d Some refactoring
pick 01b2fd8 New awesome feature
f b729ad5 fixup
f e3851e8 another fix
```

N·∫øu b·∫°n mu·ªën k·∫øt h·ª£p c√°c commit v√† **ƒë·ªïi t√™n commit**, b·∫°n n√™n th√™m m·ªôt ch·ªØ c√°i `r` b√™n c·∫°nh commit th·ª© 2 ho·∫∑c ƒë∆°n gi·∫£n s·ª≠ d·ª•ng `s` thay v√¨ `f`:

```vim
pick a9c8a1d Some refactoring
pick 01b2fd8 New awesome feature
s b729ad5 fixup
s e3851e8 another fix
```

B·∫°n c√≥ th·ªÉ ƒë·ªïi t√™n commit sau trong ƒëo·∫°n text b·∫≠t l√™n.

```vim
Newer, awesomer features

# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# rebase in progress; onto 8074d12
# You are currently editing a commit while rebasing branch 'main' on '8074d12'.
#
# Changes to be committed:
#   modified:   README.md
#

```

N·∫øu m·ªçi th·ª© th√†nh c√¥ng, b·∫°n s·∫Ω th·∫•y m·ªôt c√°i g√¨ ƒë√≥ nh∆∞ th·∫ø n√†y:

```sh
(main)$ Successfully rebased and updated refs/heads/main.
```

#### Chi·∫øn l∆∞·ª£c merge an to√†n
`--no-commit` th·ª±c hi·ªán merge nh∆∞ng gi·∫£ v·ªù h·ª£p nh·∫•t kh√¥ng th√†nh c√¥ng v√† kh√¥ng t·ª± ƒë·ªông, cho ph√©p ng∆∞·ªùi d√πng c√≥ c∆° h·ªôi ki·ªÉm tra v√† tinh ch·ªânh th√™m k·∫øt qu·∫£ merge tr∆∞·ªõc khi commit. `no-ff` duy tr√¨ b·∫±ng ch·ª©ng r·∫±ng m·ªôt nh√°nh t√≠nh nƒÉng ƒë√£ t·ª´ng t·ªìn t·∫°i, gi·ªØ cho l·ªãch s·ª≠ d·ª± √°n nh·∫•t qu√°n.

```sh
(main)$ git merge --no-ff --no-commit my-branch
```

#### T√¥i c·∫ßn merge m·ªôt nh√°nh v√†o m·ªôt commit duy nh·∫•t

```sh
(main)$ git merge --squash my-branch
```

<a name="rebase-unpushed-commits"></a>
#### T√¥i ch·ªâ mu·ªën k·∫øt h·ª£p c√°c commit ch∆∞a push

ƒê√¥i khi b·∫°n c√≥ m·ªôt s·ªë c√¥ng vi·ªác ƒëang ti·∫øn h√†nh commit b·∫°n mu·ªën k·∫øt h·ª£p tr∆∞·ªõc khi b·∫°n ƒë·∫©y ch√∫ng l√™n upstream. B·∫°n kh√¥ng mu·ªën v√¥ t√¨nh k·∫øt h·ª£p b·∫•t k·ª≥ commit n√†o ƒë√£ ƒë∆∞·ª£c push l√™n upstream v√¨ m·ªôt ng∆∞·ªùi kh√°c c√≥ th·ªÉ ƒë√£ th·ª±c hi·ªán c√°c commit tham chi·∫øu ƒë·∫øn ch√∫ng.

```sh
(main)$ git rebase -i @{u}
```

ƒêi·ªÅu n√†y s·∫Ω l√†m m·ªôt interactive rebase m√† ch·ªâ li·ªát k√™ c√°c commit m√† b·∫°n ch∆∞a push, v√¨ v·∫≠y n√≥ s·∫Ω ƒë∆∞·ª£c an to√†n ƒë·ªÉ s·∫Øp x·∫øp l·∫°i / s·ª≠a ch·ªØa / squash b·∫•t c·ª© ƒëi·ªÅu g√¨ trong danh s√°ch

#### T√¥i c·∫ßn hu·ª∑ b·ªè merge

ƒê√¥i khi vi·ªác merge c√≥ th·ªÉ g√¢y ra s·ª± c·ªë trong m·ªôt s·ªë file nh·∫•t ƒë·ªãnh, trong nh·ªØng tr∆∞·ªùng h·ª£p ƒë√≥, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng t√πy  `abort` ƒë·ªÉ h·ªßy b·ªè qu√° tr√¨nh gi·∫£i quy·∫øt xung ƒë·ªôt hi·ªán t·∫°i v√† c·ªë g·∫Øng x√¢y d·ª±ng l·∫°i tr·∫°ng th√°i merge tr∆∞·ªõc.

```sh
(my-branch)$ git merge --abort
```

L·ªánh n√†y c√≥ s·∫µn k·ªÉ t·ª´ phi√™n b·∫£n Git >= 1.7.4

### T√¥i c·∫ßn c·∫≠p nh·∫≠t commit cha c·ªßa nh√°nh c·ªßa t√¥i

Gi·∫£ s·ª≠ t√¥i c√≥ m·ªôt nh√°nh main, m·ªôt nh√°nh feature-1 t√°ch nh√°nh t·ª´ main v√† m·ªôt nh√°nh feature-2 t√°ch nh√°nh t·ª´ feature-1. N·∫øu t√¥i th·ª±c hi·ªán commit ƒë·ªëi v·ªõi feature-1, th√¨ commit c·ªßa feature-2 kh√¥ng c√≤n ch√≠nh x√°c n·ªØa (n√≥ ph·∫£i l√† ph·∫ßn ƒë·∫ßu c·ªßa feature-1, v√¨ ch√∫ng ta ƒë√£ ph√¢n nh√°nh n√≥). Ch√∫ng ta c√≥ th·ªÉ s·ª≠a ƒëi·ªÅu n√†y v·ªõi `git rebase --onto`.

```sh
(feature-2)$ git rebase --onto feature-1 <the first commit in your feature-2 branch that you don't want to bring along> feature-2
```

ƒêi·ªÅu n√†y gi√∫p trong c√°c tr∆∞·ªùng h·ª£p kh√≥ n∆°i b·∫°n c√≥ th·ªÉ c√≥ m·ªôt feature ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n m·ªôt feature kh√°c ch∆∞a ƒë∆∞·ª£c merge v√† m·ªôt bugfix tr√™n nh√°nh feature-1 c·∫ßn ƒë∆∞·ª£c ph·∫£n √°nh trong nh√°nh feature-2 c·ªßa b·∫°n.

### Ki·ªÉm tra xem t·∫•t c·∫£ commit tr√™n m·ªôt nh√°nh ƒë√£ ƒë∆∞·ª£c merge

ƒê·ªÉ ki·ªÉm ch√°u t·∫•t c·∫£ commit tr√™n m·ªôt nh√°nh ƒë∆∞·ª£c merge v√†o nh√°nh kh√°c, b·∫°n n√™n diff gi·ªØa c√°c head (ho·∫∑c m·ªçi commit) c·ªßa nh·ªØng nh√°nh ƒë√≥:

```sh
(main)$ git log --graph --left-right --cherry-pick --oneline HEAD...feature/120-on-scroll
```

ƒêi·ªÅu n√†y s·∫Ω cho b·∫°n bi·∫øt n·∫øu b·∫•t k·ª≥ commit trong m·ªôt nh∆∞ng kh√¥ng ph·∫£i l√† nh√°nh kh√°c v√† s·∫Ω cung c·∫•p cho b·∫°n m·ªôt danh s√°ch c·ªßa b·∫•t k·ª≥ nonshared gi·ªØa c√°c nh√°nh. M·ªôt l·ª±a ch·ªçn kh√°c l√† l√†m ƒëi·ªÅu n√†y:

```sh
(main)$ git log main ^feature/120-on-scroll --no-merges
```

### C√°c v·∫•n ƒë·ªÅ c√≥ th·ªÉ x·∫£y ra v·ªõi interactive rebases

<a name="noop"></a>
#### M√†n h√¨nh ch·ªânh s·ª≠a rebase cho bi·∫øt 'noop'

N·∫øu b·∫°n th·∫•y ƒëi·ªÅu n√†y:
```
noop
```

ƒêi·ªÅu n√†y c√≥ nghƒ©a b·∫°n ƒëang c·ªë rebase l·∫°i m·ªôt nh√°nh m√† l√† m·ªôt commit gi·ªëng h·ªát nhau ho·∫∑c l√† *ahead* c·ªßa nh√°nh hi·ªán t·∫°i. B·∫°n c√≥ th·ªÉ th·ª≠:

* ƒë·∫£m b·∫£o nh√°nh main c·ªßa b·∫°n l√† n∆°i n√≥ c·∫ßn
* rebase l·∫°i `HEAD~2` ho·∫∑c s·ªõm h∆°n

<a name="merge-conflict"></a>
#### C√≥ m·ªôt v√†i xung ƒë·ªôt

N·∫øu b·∫°n kh√¥ng th·ªÉ ho√†n t·∫•t th√†nh vi·ªác rebase, b·∫°n c√≥ th·ªÉ ph·∫£i gi·∫£i quy·∫øt xung ƒë·ªôt.

ƒê·∫ßu ti√™n ch·∫°y `git status` ƒë·ªÉ xem t·ªáp n√†o c√≥ xung ƒë·ªôt trong ch√∫ng:

```sh
(my-branch)$ git status
On branch my-branch
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

  both modified:   README.md
```

Trong v√≠ d·ª• ƒë√≥,, `README.md` c√≥ xung ƒë·ªôt. M·ªü t·ªáp ƒë√≥ v√† t√¨m ki·∫øm nh·ªØng ƒëi·ªÅu sau:

```vim
   <<<<<<< HEAD
   some code
   =========
   some code
   >>>>>>> new-commit
```

B·∫°n s·∫Ω c·∫ßn ph·∫£i gi·∫£i quy·∫øt s·ª± kh√°c bi·ªát gi·ªØa code ƒë√£ ƒë∆∞·ª£c th√™m v√†o trong commit m·ªõi c·ªßa b·∫°n (trong v√≠ d·ª•, m·ªçi th·ª© t·ª´ d√≤ng ·ªü gi·ªØa  `new-commit`) v√† `HEAD` c·ªßa b·∫°n.

N·∫øu b·∫°n mu·ªën gi·ªØ phi√™n b·∫£n code c·ªßa m·ªôt nh√°nh, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng `--ours` ho·∫∑c `--theirs`:

```sh
(main*)$ git checkout --ours README.md
```

- Khi *ƒëang merge*, s·ª≠ d·ª•ng `--ours` ƒë·ªÉ gi·ªØa c√°c thay ƒë·ªïi t·ª´ nh√°nh local, ho·∫∑c `--theirs` ƒë·ªÉ gi·ªØ c√°c thay ƒë·ªïi t·ª´ nh√°nh kh√°c.
- Khi *ƒëang rebase*, s·ª≠ d·ª•ng `--theirs` ƒë·ªÉ gi·ªØ c√°c thay ƒë·ªïi t·ª´ nh√°nh local, ho·∫∑c `--ours` ƒë·ªÉ gi·ªØ c√°c thay ƒë·ªïi t·ª´ nh√°nh kh√°c. ƒê·ªÉ gi·∫£i th√≠ch v·ªÅ s·ª± ho√°n ƒë·ªïi n√†y, h√£y xem [ch√∫ √Ω n√†y trong t√†i li·ªáu Git](https://git-scm.com/docs/git-rebase#git-rebase---merge).

N·∫øu vi·ªác merge ph·ª©c t·∫°p h∆°n, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng tr√¨nh ch·ªânh s·ª≠a kh√°c bi·ªát tr·ª±c quan:

```sh
(main*)$ git mergetool -t opendiff
```

Sau khi b·∫°n ƒë√£ gi·∫£i quy·∫øt t·∫•t c·∫£ xung ƒë·ªôt v√† ƒë√£ ki·ªÉm tra code c·ªßa m√¨nh, `git add` c√°c file ƒë√£ thay ƒë·ªïi v√† sau ƒë√≥ ti·∫øp t·ª•c rebase v·ªõi `git rebase --continue`

```sh
(my-branch)$ git add README.md
(my-branch)$ git rebase --continue
```

N·∫øu sau khi gi·∫£i quy·∫øt t·∫•t c·∫£ c√°c xung ƒë·ªôt b·∫°n k·∫øt th√∫c b·∫±ng m·ªôt c√¢y gi·ªëng h·ªát v·ªõi c√°i tr∆∞·ªõc khi th·ª±c hi·ªán, b·∫°n c·∫ßn `git rebase --skip` thay th·∫ø.

N·∫øu b·∫•t k·ª≥ l√∫c n√†o b·∫°n mu·ªën d·ª´ng to√†n b·ªô qu√° tr√¨nh rebase v√† quay tr·ªü l·∫°i tr·∫°ng th√°i ban ƒë·∫ßu nh√°nh c·ªßa b·∫°n, b·∫°n c√≥ th·ªÉ l√†m nh∆∞ th·∫ø n√†y:


```sh
(my-branch)$ git rebase --abort
```

<a name="stashing"></a>
## Stash

### Stash t·∫•t c·∫£ ch·ªânh s·ª≠a

ƒê·ªÉ stash t·∫•t c·∫£ c√°c ch·ªânh s·ª≠a trong th∆∞ m·ª•c l√†m vi·ªác

```sh
$ git stash
```

N·∫øu b·∫°n c≈©ng mu·ªën stash c√°c file ch∆∞a ƒë∆∞·ª£c theo d√µi, s·ª≠ d·ª•ng tu·ª≥ ch·ªçn `-u`.

```sh
$ git stash -u
```

### Stash c√°c file c·ª• th·ªÉ

ƒê·ªÉ stash ch·ªâ m·ªôt file t·ª´ th∆∞ m·ª•c l√†m vi·ªác

```sh
$ git stash push working-directory-path/filename.ext
```

ƒê·ªÉ stash nhi·ªÅu file t·ª´ th∆∞ m·ª•c l√†m vi·ªác

```sh
$ git stash push working-directory-path/filename1.ext working-directory-path/filename2.ext
```

<a name="stash-msg"></a>
### Stash v·ªõi message

```sh
$ git stash save <message>
```

<a name="stash-apply-specific"></a>
### Apply m·ªôt stash c·ª• th·ªÉ t·ª´ danh s√°ch

ƒê·∫ßu ti√™n ki·ªÉm tra danh s√°ch c√°c stash v·ªõi message s·ª≠ d·ª•ng

```sh
$ git stash list
```

Sau ƒë√≥ apply m·ªôt stash c·ª• th·ªÉ t·ª´ danh s√°ch s·ª≠ d·ª•ng

```sh
$ git stash apply "stash@{n}"
```

·ªû ƒë√¢y, 'n' cho bi·∫øt v·ªã tr√≠ c·ªßa stash trong stack. Stash tr√™n c√πng s·∫Ω l√† v·ªã tr√≠ 0.

<a name="stage-and-keep-unstaged"></a>
### Stash while keeping unstaged edits

You can manually create a `stash commit`, and then use `git stash store`.

```sh
$ git stash create
$ git stash store -m <message> CREATED_SHA1
```

## Finding

### T√¥i mu·ªën t√¨m m·ªôt chu·ªói trong b·∫•t k·ª≥ commit n√†o

ƒê·ªÉ t√¨m m·ªôt chu·ªói nh·∫•t ƒë·ªãnh ƒë∆∞·ª£c cho v√†o trong b·∫•t k·ª≥ commit n√†o, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c·∫•u tr√∫c sau:

```sh
$ git log -S "string to find"
```

C√°c th√¥ng s·ªë chung:

* `--source` c√≥ nghƒ©a l√† hi·ªÉn th·ªã t√™n ref ƒë∆∞·ª£c ƒë∆∞a ra tr√™n d√≤ng l·ªánh m√† m·ªói l·∫ßn commit ƒë√£ ƒë·∫°t ƒë∆∞·ª£c.

* `--all` nghƒ©a l√† b·∫Øt ƒë·∫ßu t·ª´ m·ªçi nh√°nhmeans to start from every branch.

* `--reverse` in theo th·ª© t·ª± ng∆∞·ª£c l·∫°i, n√≥ c√≥ nghƒ©a l√† s·∫Ω hi·ªÉn th·ªã commit ƒë·∫ßu ti√™n ƒë√£ th·ª±c hi·ªán thay ƒë·ªïi.

<a name="i-want-to-find-by-author-committer"></a>
### T√¥i mu·ªën t√¨m t√°c gi√°c ho·∫∑c ng∆∞·ªùi commit

T√¨m t·∫•t c·∫£ commit t·ª´ t√°c gi·∫£ ho·∫∑c ng∆∞·ªùi commit b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng:

```sh
$ git log --author=<name or email>
$ git log --committer=<name or email>
```

H√£y nh·ªõ r·∫±ng t√°c gi·∫£ v√† ng∆∞·ªùi commit kh√¥ng gi·ªëng. `--author` l√† ng∆∞·ªùi ban ƒë·∫ßu ƒë√£ vi·∫øt code; m·∫∑t kh√°c,  `--committer`, l√† ng∆∞·ªùi ƒë√£ commit code thay m·∫∑c t√°c gi·∫£ g·ªëc.

### T√¥i mu·ªën li·ªát k√™ c√°c commit ch·ª©a c√°c file c·ª• th·ªÉ

ƒê·ªÉ t√¨m t·∫•t c·∫£ c√°c commit ch∆∞a m·ªôt file c·ª• th·ªÉ b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng:

```sh
$ git log -- <path to file>
```

B·∫°n th∆∞·ªùng s·∫Ω ch·ªâ ƒë·ªãnh m·ªôt ƒë∆∞·ªùng d·∫´n ch√≠nh x√°c, nh∆∞ng b·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c k√Ω t·ª± ƒë·∫°i di·ªán trong ƒë∆∞·ªùng d·∫´n v√† t√™n t·ªáp:

```sh
$ git log -- **/*.js
```

Trong khi s·ª≠ d·ª•ng k√Ω t·ª± ƒë·∫°i di·ªán, n√≥ h·ªØu √≠ch ƒë·ªÉ th√¥ng b√°o `--name-status` ƒë·ªÉ xem danh s√°ch c√°c t·ªáp ƒë√£ commit:

```sh
$ git log --name-status -- **/*.js
```

<a name="#i-want-to-view-the-commit-history-for-a-specific-function"></a>
### I want to view the commit history for a specific function

To trace the evolution of a single function you can use:

```sh
$ git log -L :FunctionName:FilePath
```

Note that you can combine this with further `git log` options, like [revision ranges](https://git-scm.com/docs/gitrevisions) and [commit limits](https://git-scm.com/docs/git-log/#_commit_limiting).


### T√¨m m·ªôt tag n∆°i m·ªôt commit ƒë√£ tham chi·∫øu

ƒê·ªÉ t√¨m t·∫•t c·∫£ c√°c tag c√≥ ch·ª©a m·ªôt commit c·ª• th·ªÉ

```sh
$ git tag --contains <commitid>
```

## Submodules

<a name="clone-submodules"></a>
### Clone t·∫•t c·∫£ submodules

```sh
$ git clone --recursive git://github.com/foo/bar.git
```

N·∫øu ƒë√£ clone:

```sh
$ git submodule update --init --recursive
```

<a name="delete-submodule"></a>
### Xo√° m·ªôt submodule

T·∫°o m·ªôt submodule l√† kh√° nhanh, nh∆∞ng x√≥a ch√∫ng √≠t h∆°n nh∆∞ v·∫≠y. C√°c l·ªánh b·∫°n c·∫ßn l√†:

```sh
$ git submodule deinit submodulename
$ git rm submodulename
$ git rm --cached submodulename
$ rm -rf .git/modules/submodulename
```

## Miscellaneous Objects

### Kh√¥i ph·ª•c m·ªôt file ƒë√£ xo√°

ƒê·∫ßu ti√™n t√¨m commit n∆°i m√† l·∫ßn cu·ªëi file ƒë√£ t·ªìn t·∫°i:

```sh
$ git rev-list -n 1 HEAD -- filename
```

Sau ƒë√≥ checkout file:

```
git checkout deletingcommitid^ -- filename
```

### Xo√° tag

```sh
$ git tag -d <tag_name>
$ git push <remote> :refs/tags/<tag_name>
```

<a name="recover-tag"></a>
### Kh√¥i ph·ª•c m·ªôt tag ƒë√£ xo√°

N·∫øu b·∫°n mu·ªën kh√¥i ph·ª•c tag ƒë√£ b·ªã x√≥a, b·∫°n c√≥ th·ªÉ l√†m ƒë∆∞·ª£c v·∫≠y b·∫±ng c√°ch l√†m theo c√°c b∆∞·ªõc sau: Tr∆∞·ªõc ti√™n, b·∫°n c·∫ßn ph·∫£i t√¨m tag kh√¥ng th·ªÉ truy c·∫≠p

```sh
$ git fsck --unreachable | grep tag
```

Ghi l·∫°i m√£ hash c·ªßa tag. Sau ƒë√≥, kh√¥i ph·ª•c tag ƒë√£ x√≥a theo c√°ch sau, s·ª≠  [`git update-ref`](https://git-scm.com/docs/git-update-ref):

```sh
$ git update-ref refs/tags/<tag_name> <hash>
```

Tag c·ªßa b·∫°n b√¢y gi·ªù ƒë√£ ƒë∆∞·ª£c kh√¥i ph·ª•c.

### Deleted Patch

N·∫øu ai ƒë√≥ ƒë√£ g·ª≠i cho b·∫°n m·ªôt pull request tr√™n GitHub, nh∆∞ng sau ƒë√≥ ƒë√£ xo√° ch√∫ng tr√™n fork g·ªëc, b·∫°n s·∫Ω kh√¥ng th·ªÉ clone repository c·ªßa h·ªç ho·∫∑c s·ª≠ d·ª•ng `git am` nh∆∞ [.diff, .patch](https://github.com/blog/967-github-secrets) url kh√¥ng kh·∫£ d·ª•ng. Nh∆∞ng b·∫°n c√≥ th·ªÉ checkout ch√≠nh PR b·∫±ng c√°ch s·ª≠ d·ª•ng [GitHub's special refs](https://gist.github.com/piscisaureus/3342247). ƒê·ªÉ fetch n·ªôi dung c·ªßa PR#1 v√†o m·ªôt nh√°nh ƒë∆∞·ª£c g·ªçi l√† pr_1:

```sh
$ git fetch origin refs/pull/1/head:pr_1
From github.com:foo/bar
 * [new ref]         refs/pull/1/head -> pr_1
```

### Xu·∫•t m·ªôt repository ra m·ªôt file Zip

```sh
$ git archive --format zip --output /full/path/to/zipfile.zip main
```
### Push m·ªôt nh√°nh v√† m·ªôt tag c√≥ t√™n gi·ªëng nhau

N·∫øu c√≥ m·ªôt tag tr√™n m·ªôt remote repository m√† c√≥ t√™n gi·ªëng v·ªõi m·ªôt nh√°nh b·∫°n s·∫Ω g·∫∑p ph·∫£i l·ªói khi c·ªë push nhanh v·ªõi m·ªôt commad chu·∫©n `$ git push <remote> <branch>`.

```sh
$ git push origin <branch>
error: dst refspec same matches more than one.
error: failed to push some refs to '<git server>'
```

S·ª≠a l·ªói n√†y b·∫±ng c√°ch ch·ªâ ƒë·ªãnh b·∫°n mu·ªën ƒë·∫©y tham chi·∫øu head.

```sh
$ git push origin refs/heads/<branch-name>
```

N·∫øu b·∫°n mu·ªën ƒë·∫©y m·ªôt tag v√†o m·ªôt repository t·ª´ remote c√≥ c√πng t√™n v·ªõi m·ªôt nh√°nh, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng m·ªôt l·ªánh t∆∞∆°ng t·ª±.

```sh
$ git push origin refs/tags/<tag-name>
```

## Tracking c√°c file

<a href="i-want-to-change-a-file-names-capitalization-without-changing-the-contents-of-the-file"></a>
### T√¥i mu·ªën thay ƒë·ªïi c√°ch vi·∫øt hoa c·ªßa t√™n t·ªáp m√† kh√¥ng thay ƒë·ªïi n·ªôi dung c·ªßa t·ªáp

```sh
(main)$ git mv --force myfile MyFile
```

### T√¥i mu·ªën ghi ƒë√® l√™n c√°c t·ªáp local khi th·ª±c hi·ªán l·ªánh git pull

```sh
(main)$ git fetch --all
(main)$ git reset --hard origin/main
```

<a href="remove-from-git"></a>
### T√¥i mu·ªën x√≥a m·ªôt t·ªáp kh·ªèi Git nh∆∞ng v·∫´n gi·ªØ t·ªáp

```sh
(main)$ git rm --cached log.txt
```

### T√¥i mu·ªën revert t·ªáp v·ªÅ b·∫£n s·ª≠a ƒë·ªïi c·ª• th·ªÉ

Gi·∫£ s·ª≠ m√£ hash c·ªßa commit b·∫°n mu·ªën c5f567:

```sh
(main)$ git checkout c5f567 -- file1/to/restore file2/to/restore
```

N·∫øu b·∫°n mu·ªën revert c√°c thay ƒë·ªïi ƒë∆∞·ª£c th·ª±c hi·ªán ch·ªâ 1 commit tr∆∞·ªõc c5f567, v∆∞·ª£t qua commit hash nh∆∞ c5f567~1:

```sh
(main)$ git checkout c5f567~1 -- file1/to/restore file2/to/restore
```

### T√¥i mu·ªën li·ªát k√™ c√°c thay ƒë·ªïi c·ªßa m·ªôt t·ªáp c·ª• th·ªÉ gi·ªØa c√°c commit ho·∫∑c c√°c nh√°nh

Gi·∫£ s·ª≠ b·∫°n mu·ªën so s√°nh commit cu·ªëi c√πng v·ªõi t·ªáp t·ª´ commit c5f567:

```sh
$ git diff HEAD:path_to_file/file c5f567:path_to_file/file
```

C√πng ƒëi cho c√°c nh√°nh:

```sh
$ git diff main:path_to_file/file staging:path_to_file/file
```

### T√¥i mu·ªën Git b·ªè qua nh·ªØng thay ƒë·ªïi ƒë·ªëi v·ªõi m·ªôt t·ªáp c·ª• th·ªÉ

ƒêi·ªÅu n√†y ho·∫°t ƒë·ªông t·ªët cho c√°c m·∫´u c·∫•u h√¨nh ho·∫∑c c√°c t·ªáp kh√°c y√™u c·∫ßu th√™m th√¥ng tin ƒëƒÉng nh·∫≠p c·ª•c b·ªô m√† kh√¥ng ƒë∆∞·ª£c commit

```sh
$ git update-index --assume-unchanged file-to-ignore
```

L∆∞u √Ω r·∫±ng ƒëi·ªÅu n√†y kh√¥ng x√≥a t·ªáp kh·ªèi ki·ªÉm so√°t source - n√≥ ch·ªâ b·ªã b·ªè qua c·ª•c b·ªô. ƒê·ªÉ ho√†n t√°c thao t√°c n√†y v√† y√™u c·∫ßu Git l∆∞u √Ω c√°c thay ƒë·ªïi m·ªôt l·∫ßn n·ªØa, ƒëi·ªÅu n√†y s·∫Ω x√≥a ignore flag:

```sh
$ git update-index --no-assume-unchanged file-to-stop-ignoring
```

## Debugging with Git

The [git-bisect](https://git-scm.com/docs/git-bisect) command uses a binary search to find which commit in your Git history introduced a bug.

Suppose you're on the `main` branch, and you want to find the commit that broke some feature. You start bisect:

```sh
$ git bisect start
```

Then you should specify which commit is bad, and which one is known to be good. Assuming that your *current* version is bad, and `v1.1.1` is good:

```sh
$ git bisect bad
$ git bisect good v1.1.1
```

Now `git-bisect` selects a commit in the middle of the range that you specified, checks it out, and asks you whether it's good or bad. You should see something like:

```sh
$ Bisecting: 5 revision left to test after this (roughly 5 step)
$ [c44abbbee29cb93d8499283101fe7c8d9d97f0fe] Commit message
$ (c44abbb)$
```

You will now check if this commit is good or bad. If it's good:

```sh
$ (c44abbb)$ git bisect good
```

and `git-bisect` will select another commit from the range for you. This process (selecting `good` or `bad`) will repeat until there are no more revisions left to inspect, and the command will finally print a description of the **first** bad commit.

## C·∫•u h√¨nh

### T√¥i mu·ªën th√™m b√≠ danh cho m·ªôt s·ªë l·ªánh Git

Tr√™n OS X v√† Linux, file c·∫•u h√¨nh git ƒë∆∞·ª£c l∆∞u trong ```~/.gitconfig```.  T√¥i ƒë√£ th√™m m·ªôt s·ªë b√≠ danh m·∫´u m√† t√¥i s·ª≠ d·ª•ng l√†m shortcut (v√† m·ªôt s·ªë l·ªói ch√≠nh t·∫£ ph·ªï bi·∫øn c·ªßa t√¥i) trong ph·∫ßn ```[alias]``` ƒë∆∞·ª£c hi·ªÉn th·ªã nh∆∞ d∆∞·ªõi ƒë√¢y:

```vim
[alias]
    a = add
    amend = commit --amend
    c = commit
    ca = commit --amend
    ci = commit -a
    co = checkout
    d = diff
    dc = diff --changed
    ds = diff --staged
    extend = commit --amend -C HEAD
    f = fetch
    loll = log --graph --decorate --pretty=oneline --abbrev-commit
    m = merge
    one = log --pretty=oneline
    outstanding = rebase -i @{u}
    reword = commit --amend --only
    s = status
    unpushed = log @{u}
    wc = whatchanged
    wip = rebase -i @{u}
    zap = fetch -p
```

### T√¥i mu·ªën th√™m m·ªôt th∆∞ m·ª•c tr·ªëng v√†o repository c·ªßa t√¥i

B·∫°n kh√¥ng th·ªÉ! Git kh√¥ng h·ªó tr·ª£ ƒëi·ªÅu n√†y, nh∆∞ng c√≥ m·ªôt c√°ch hack. B·∫°n c√≥ th·ªÉ t·∫°o t·ªáp .gitignore trong th∆∞ m·ª•c v·ªõi c√°c n·ªôi dung sau:

```
 # Ignore everything in this directory
 *
 # Except this file
 !.gitignore
```

M·ªôt quy ∆∞·ªõc chung kh√°c l√† t·∫°o m·ªôt t·ªáp tr·ªëng trong th∆∞ m·ª•c c√≥ ti√™u ƒë·ªÅ .gitkeep.


```sh
$ mkdir mydir
$ touch mydir/.gitkeep
```

B·∫°n c≈©ng c√≥ th·ªÉ ƒë·∫∑t t√™n t·ªáp l√† .keep, trong tr∆∞·ªùng h·ª£p d√≤ng th·ª© hai ·ªü tr√™n s·∫Ω ```touch mydir/.keep```

### T√¥i mu·ªën cache m·ªôt username v√† password cho m·ªôt repository

B·∫°n c√≥ th·ªÉ c√≥ m·ªôt repository y√™u c·∫ßu x√°c th·ª±c.  Trong tr∆∞·ªùng h·ª£p n√†y b·∫°n c√≥ th·ªÉ cache m·ªôt username v√† password v√¨ v·∫≠y b·∫°n kh√¥ng ph·∫£i nh·∫≠p n√≥ v√†o m·ªói l·∫ßn push / pull. Vi·ªác x√°c th·ª±c c√≥ th·ªÉ l√†m ƒëi·ªÅu n√†y cho b·∫°n.

```sh
$ git config --global credential.helper cache
# Set git to use the credential memory cache
```

```sh
$ git config --global credential.helper 'cache --timeout=3600'
# Set the cache to timeout after 1 hour (setting is in seconds)
```

### T√¥i mu·ªën l√†m cho Git b·ªè qua c√°c quy·ªÅn v√† thay ƒë·ªïi v·ªÅ filemode

```sh
$ git config core.fileMode false
```

N·∫øu b·∫°n mu·ªën ƒë·∫∑t h√†nh vi n√†y l√† h√†nh vi m·∫∑c ƒë·ªãnh cho ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p, th√¨ h√£y s·ª≠ d·ª•ng:

```sh
$ git config --global core.fileMode false
```

### T√¥i mu·ªën ƒë·∫∑t user to√†n c·ª•c

ƒê·ªÉ c·∫•u h√¨nh th√¥ng tin ng∆∞·ªùi d√πng ƒë∆∞·ª£c s·ª≠ d·ª•ng tr√™n t·∫•t c·∫£ c√°c repository c·ª•c b·ªô v√† ƒë·ªÉ ƒë·∫∑t t√™n c√≥ th·ªÉ nh·∫≠n d·∫°ng khi xem l·∫°i phi√™n b·∫£n l·ªãch s·ª≠:

```sh
$ git config --global user.name "[firstname lastname]"
```
ƒê·ªÉ ƒë·∫∑t ƒë·ªãa ch·ªâ email s·∫Ω ƒë∆∞·ª£c li√™n k·∫øt v·ªõi m·ªói ƒëi·ªÉm ƒë√°nh d·∫•u l·ªãch s·ª≠:

```sh
git config --global user.email "[valid-email]"
```

## T√¥i kh√¥ng nghƒ© m√¨nh ƒë√£ l√†m g√¨ sai

V√¨ v·∫≠y, b·∫°n ƒëang say - b·∫°n `reset` v√†i th·ª©, ho·∫∑c b·∫°n merge sai nh√°nh, ho·∫∑c b·∫°n force push v√† b√¢y gi·ªù b·∫°n kh√¥ng th·ªÉ t√¨m th·∫•y c√°c commit c·ªßa b·∫°n. B·∫°n bi·∫øt, t·∫°i m·ªôt s·ªë th·ªùi ƒëi·ªÉm, b·∫°n ƒë√£ l√†m t·ªët v√† b·∫°n mu·ªën quay tr·ªü l·∫°i tr·∫°ng th√°i b·∫°n ƒëang ·ªü ƒë√≥.

ƒê√¢y l√† nh·ªØng g√¨ `git reflog` cho. `reflog` theo d√µi b·∫•t k·ª≥ thay ƒë·ªïi n√†o ƒë·ªëi v·ªõi m·∫πo c·ªßa nh√°nh, ngay c·∫£ khi m·∫πo ƒë√≥ kh√¥ng ƒë∆∞·ª£c tham chi·∫øu b·ªüi nh√°nh ho·∫∑c tag. V·ªÅ c∆° b·∫£n, m·ªói l·∫ßn HEAD thay ƒë·ªïi, m·ªôt m·ª•c m·ªõi ƒë∆∞·ª£c th√™m v√†o reflog. ƒêi·ªÅu n√†y ch·ªâ ho·∫°t ƒë·ªông ƒë·ªëi v·ªõi c√°c repository c·ª•c b·ªô, th·∫≠t ƒë√°ng bu·ªìn v√† n√≥ ch·ªâ theo d√µi c√°c chuy·ªÉn ƒë·ªông (v√≠ d·ª•: kh√¥ng thay ƒë·ªïi m·ªôt t·ªáp kh√¥ng ƒë∆∞·ª£c ghi ·ªü b·∫•t k·ª≥ ƒë√¢u).

```sh
(main)$ git reflog
0a2e358 HEAD@{0}: reset: moving to HEAD~2
0254ea7 HEAD@{1}: checkout: moving from 2.2 to main
c10f740 HEAD@{2}: checkout: moving from main to 2.2
```

C√°c reflog ·ªü tr√™n cho th·∫•y m·ªôt checkout t·ª´ main ƒë·∫øn nh√°nh 2.2 v√† tr·ªü l·∫°i. T·ª´ ƒë√≥, c√≥ m·ªôt thi·∫øt l·∫≠p c·ª©ng ƒë·ªÉ m·ªôt commit c≈© h∆°n. Ho·∫°t ƒë·ªông m·ªõi nh·∫•t ƒë∆∞·ª£c th·ªÉ hi·ªán ·ªü ƒë·∫ßu ƒë∆∞·ª£c g·∫Øn nh√£n `HEAD@{0}`.

N·∫øu n√≥ ch·ªâ ra r·∫±ng b·∫°n v√¥ t√¨nh di chuy·ªÉn tr·ªü l·∫°i, c√°c reflog s·∫Ω ch·ª©a commit main ch·ªâ ƒë·∫øn (0254ea7) tr∆∞·ªõc khi b·∫°n v√¥ t√¨nh gi·∫£m 2 commit

```sh
$ git reset --hard 0254ea7
```

S·ª≠ d·ª•ng `git reset` sau ƒë√≥ n√≥ c√≥ th·ªÉ thay ƒë·ªïi main tr·ªü v·ªÅ commit tr∆∞·ªõc ƒë√≥. ƒêi·ªÅu n√†y cung c·∫•p s·ª± an to√†n trong tr∆∞·ªùng h·ª£p l·ªãch s·ª≠ ƒë√£ v√¥ t√¨nh thay ƒë·ªïi.

(ƒë√£ sao ch√©p v√† ch·ªânh s·ª≠a t·ª´ [Source](https://www.atlassian.com/git/tutorials/rewriting-history/git-reflog)).

<a name="git-shortcuts"></a>
## Git Shortcuts

### Git Bash

Once you're comfortable with what the above commands are doing, you might want to create some shortcuts for Git Bash. This allows you to work a lot faster by doing complex tasks in really short commands.

```sh
alias sq=squash

function squash() {
    git rebase -i HEAD~$1
}
```

Copy those commands to your .bashrc or .bash_profile.

### PowerShell on Windows

If you are using PowerShell on Windows, you can also set up aliases and functions. Add these commands to your profile, whose path is defined in the `$profile` variable. Learn more at the [About Profiles](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles) page on the Microsoft documentation site.

```powershell
Set-Alias sq Squash-Commits

function Squash-Commits {
  git rebase -i HEAD~$1
}
```

# T√†i nguy√™n kh√°c

## S√°ch

* [Learn Enough Git to Be Dangerous](https://www.learnenough.com/git-tutorial) - A book by Michael Hartl covering Git from basics
* [Pro Git](https://git-scm.com/book/en/v2) - Scott Chacon and Ben Straub's excellent book about Git
* [Git Internals](https://github.com/pluralsight/git-internals-pdf) - Scott Chacon's other excellent book about Git
* [Nasa handbook](https://www.nasa.gov/sites/default/files/atoms/files/nasa_systems_engineering_handbook.pdf)


## H∆∞·ªõng d·∫´n

* [19 m·∫πo s·ª≠ d·ª•ng GIT h√†ng ng√†y](https://www.alexkras.com/19-git-tips-for-everyday-use) - M·ªôt danh s√°ch c√°c m·∫πo d√πng GIT h·ªØu √≠ch.
* [Atlassian's Git tutorial](https://www.atlassian.com/git/tutorials) - S·ª≠ d·ª•ng Git ƒë√∫ng v·ªõi c√°c h∆∞·ªõng d·∫´n t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao.
* [Learn Git branching](https://learngitbranching.js.org/) - H∆∞·ªõng d·∫´n ph√¢n nh√°nh / merging / rebasing d·ª±a tr√™n web interactive
* [Getting solid at Git rebase vs. merge](https://medium.com/@porteneuve/getting-solid-at-git-rebase-vs-merge-4fa1a48c53aa)
* [Git Commands and Best Practices Cheat Sheet](https://zeroturnaround.com/rebellabs/git-commands-and-best-practices-cheat-sheet) - M·ªôt Git cheat sheet trong m·ªôt b√†i ƒëƒÉng tr√™n blog v·ªõi nhi·ªÅu gi·∫£i th√≠ch h∆°n
* [Git from the inside out](https://codewords.recurse.com/issues/two/git-from-the-inside-out) - H∆∞·ªõng d·∫´n ƒëi s√¢u v√†o v√†o Git
* [git-workflow](https://github.com/asmeurer/git-workflow) - [Aaron Meurer](https://github.com/asmeurer) c·ªßa c√°ch s·ª≠ d·ª•ng Git ƒë·ªÉ ƒë√≥ng g√≥p v√†o repository m√£ ngu·ªìn m·ªü
* [GitHub as a workflow](https://hugogiraudel.com/2015/08/13/github-as-a-workflow/) - M·ªôt ƒëi·ªÅu th√∫ v·ªã khi s·ª≠ d·ª•ng GitHub nh∆∞ m·ªôt quy tr√¨nh l√†m vi·ªác, ƒë·∫∑c bi·ªát v·ªõi c√°c PR tr·ªëng.
* [Githug](https://github.com/Gazler/githug) - M·ªôt tr√≤ ch∆°i ƒë·ªÉ h·ªçc th√™m v·ªÅ lu·ªìng l√†m vi·ªác chung c·ªßa Git.
* [learnGitBranching](https://github.com/pcottle/learnGitBranching) - An interactive git visualization to challenge and educate!

## Scripts v√† c√°c c√¥ng c·ª•

* [firstaidgit.io](http://firstaidgit.io/) - M·ªôt l·ª±a ch·ªçn c√≥ th·ªÉ t√¨m ki·∫øm c√°c c√¢u h·ªèi th∆∞·ªùng g·∫∑p nh·∫•t v·ªÅ Git
* [git-extra-commands](https://github.com/unixorn/git-extra-commands) - T·∫≠p h·ª£p c√°c script Git m·ªü r·ªông h·ªØu √≠ch
* [git-extras](https://github.com/tj/git-extras) - C√°c ti·ªán √≠ch GIT -- Repo t√≥m t·∫Øt, thay th·∫ø, s·ªë l∆∞·ª£ng thay ƒë·ªïi, t·ª∑ l·ªá ph·∫ßn trƒÉm c·ªßa t√°c gi·∫£ v√† nhi·ªÅu n·ªØa
* [git-fire](https://github.com/qw3rtman/git-fire) - git-fire l√† m·ªôt plugin Git ƒë·ªÉ gi√∫p trong tr∆∞·ªùng h·ª£p kh·∫©n c·∫•p b·∫±ng c√°ch th√™m t·∫•t c·∫£ c√°c t·ªáp hi·ªán t·∫°i, commit v√† push v√†o m·ªôt nh√°nh m·ªõi (ƒë·ªÉ ngƒÉn xung ƒë·ªôt khi merge).
* [git-tips](https://github.com/git-tips/tips) - C√°c m·∫πo Git nh·ªè
* [git-town](https://github.com/Originate/git-town) - H·ªó tr·ª£ lu·ªìng l√†m vi·ªác Git chung, m·ª©c cao! http://www.git-town.com

## GUI Clients
* [GitKraken](https://www.gitkraken.com/) - Client sang tr·ªçng cho Windows, Mac & Linux
* [git-cola](https://git-cola.github.io/) - Git client kh√°c cho Windows v√† OS X
* [GitUp](https://github.com/git-up/GitUp) - M·ªôt GUI m·ªõi m·∫ª m√† c√≥ m·ªôt s·ªë c√°ch r·∫•t quan t√¢m ƒë·ªÉ gi·∫£i quy·∫øt c√°c vi·ªác kh√≥ ch·ªãu c·ªßa Git
* [gitx-dev](https://rowanj.github.io/gitx/) - M·ªôt Git client ƒë·ªì ho·∫° kh√°c cho OS X
* [Sourcetree](https://www.sourcetreeapp.com/) - S·ª± ƒë∆°n gi·∫£n nh∆∞ng m·∫°nh m·∫Ω cho giao di·ªán Git ƒë·∫πp v√† mi·ªÖn ph√≠ cho Windows v√† Mac.
* [Tower](https://www.git-tower.com/) - Git client ƒë·ªì ho·∫° cho OS X (tr·∫£ ph√≠)
* [tig](https://jonas.github.io/tig/) - Terminal text-mode interface cho Git
* [Magit](https://magit.vc/) - Interface cho Git th·ª±c hi·ªán nh∆∞ m·ªôt g√≥i Emacs .
* [GitExtensions](https://github.com/gitextensions/gitextensions) - M·ªôt shell extension, m·ªôt Visual Studio 2010-2015 plugin v√† m·ªôt c√¥ng c·ª• Git repository ƒë·ªôc l·∫≠p.
* [Fork](https://git-fork.com/) - M·ªôt Git client nhanh v√† th√¢n thi·ªán cho Mac (beta)
* [gmaster](https://gmaster.io/) - M·ªôt Git client cho Windows v·ªõi 3 c√°ch merge, analyze refactors, semantic diff v√† merge (beta)
* [gitk](https://git-scm.com/docs/gitk) - M·ªôt Git client cho Linux ƒë·ªÉ cho ph√©p xem ƒë∆°n gi·∫£n cho tr·∫°ng th√°i repo.
* [SublimeMerge](https://www.sublimemerge.com/) - Client nhanh, m·ªü r·ªông, cung c·∫•p 3 c√°ch merge, t√¨m ki·∫øm m·∫°nh m·∫Ω v√† l√†m n·ªïi b·∫≠t c√∫ ph√°p, ƒëang ph√°t tri·ªÉn t√≠ch c·ª±c.
